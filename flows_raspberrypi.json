[
    {
        "id": "5d39f6e8.677b6",
        "label": "Flow 1",
        "type": "tab"
    },
    {
        "disabled": false,
        "id": "8986fa08.d4999",
        "info": "",
        "label": "Doorbell",
        "type": "tab"
    },
    {
        "disabled": false,
        "id": "9122054e.29969",
        "info": "",
        "label": "Neopixels",
        "type": "tab"
    },
    {
        "disabled": false,
        "id": "459a3a0f.cadb4c",
        "info": "",
        "label": "Temperature control",
        "type": "tab"
    },
    {
        "disabled": false,
        "id": "fe7297a4.e6dc1",
        "info": "",
        "label": "Kodi",
        "type": "tab"
    },
    {
        "disabled": false,
        "id": "307f8b6a.ec1714",
        "info": "",
        "label": "Solar",
        "type": "tab"
    },
    {
        "disabled": false,
        "id": "53214520.af847c",
        "info": "",
        "label": "P1",
        "type": "tab"
    },
    {
        "disabled": false,
        "id": "da818f88.a776d",
        "info": "",
        "label": "Power graphs",
        "type": "tab"
    },
    {
        "disabled": false,
        "id": "dd00ef6b.1ab33",
        "info": "",
        "label": "AXA",
        "type": "tab"
    },
    {
        "disabled": false,
        "id": "47b85eed.4f8768",
        "info": "",
        "label": "AMP IR",
        "type": "tab"
    },
    {
        "id": "f7c3f5b1.15af3",
        "in": [
            {
                "wires": [
                    {
                        "id": "ea4d6784.fc38b"
                    }
                ],
                "x": 40,
                "y": 180
            }
        ],
        "info": "Connect both the external input and\nthe control output to the input.\nMake sure the control has topic 'control'\nThe output should be connected to the input\nof the control.",
        "name": "BufferFlow",
        "out": [
            {
                "wires": [
                    {
                        "id": "230bc5d2.7396a2",
                        "port": 0
                    }
                ],
                "x": 880,
                "y": 180
            }
        ],
        "type": "subflow"
    },
    {
        "id": "df7451c1.bfdb28",
        "site": {
            "allowSwipe": "false",
            "dateFormat": "DD/MM/YYYY",
            "hideToolbar": "false",
            "name": "Node-RED Dashboard",
            "sizes": {
                "cx": 6,
                "cy": 6,
                "gx": 6,
                "gy": 6,
                "px": 0,
                "py": 0,
                "sx": 48,
                "sy": 48
            }
        },
        "theme": {
            "angularTheme": {
                "accents": "blue",
                "background": "grey",
                "primary": "indigo",
                "warn": "red"
            },
            "customTheme": {
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "default": "#4B7930",
                "name": "Untitled Theme 1"
            },
            "darkTheme": {
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "default": "#097479",
                "edited": false
            },
            "lightTheme": {
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "default": "#0094CE",
                "edited": true,
                "reset": false
            },
            "name": "theme-light",
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "edited": false,
                    "value": "#0094CE"
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                },
                "group-backgroundColor": {
                    "edited": false,
                    "value": "#ffffff"
                },
                "group-borderColor": {
                    "edited": false,
                    "value": "#ffffff"
                },
                "group-textColor": {
                    "edited": false,
                    "value": "#1bbfff"
                },
                "page-backgroundColor": {
                    "edited": false,
                    "value": "#fafafa"
                },
                "page-sidebar-backgroundColor": {
                    "edited": false,
                    "value": "#ffffff"
                },
                "page-titlebar-backgroundColor": {
                    "edited": false,
                    "value": "#0094CE"
                },
                "widget-backgroundColor": {
                    "edited": false,
                    "value": "#0094ce"
                },
                "widget-borderColor": {
                    "edited": false,
                    "value": "#ffffff"
                },
                "widget-textColor": {
                    "edited": false,
                    "value": "#111111"
                }
            }
        },
        "type": "ui_base"
    },
    {
        "icon": "dashboard",
        "id": "5cee9693.358b08",
        "name": "Temps",
        "order": 3,
        "type": "ui_tab"
    },
    {
        "disp": true,
        "id": "58ffad67.aac28c",
        "name": "Bedroom",
        "order": 1,
        "tab": "5cee9693.358b08",
        "type": "ui_group",
        "width": "24"
    },
    {
        "birthPayload": "",
        "birthQos": "0",
        "birthTopic": "",
        "broker": "raspberrypi.fritz.box",
        "cleansession": true,
        "clientid": "",
        "closePayload": "",
        "closeQos": "0",
        "closeTopic": "",
        "compatmode": true,
        "id": "69f5a3df.5a8b0c",
        "keepalive": "60",
        "name": "PI",
        "port": "1883",
        "type": "mqtt-broker",
        "usetls": false,
        "willPayload": "",
        "willQos": "0",
        "willTopic": ""
    },
    {
        "icon": "dashboard",
        "id": "b47e83d3.de77e",
        "name": "Dashboard",
        "order": 1,
        "type": "ui_tab"
    },
    {
        "disp": true,
        "id": "ddd0fc4c.8a5e8",
        "name": "Bedroom",
        "order": 3,
        "tab": "b47e83d3.de77e",
        "type": "ui_group",
        "width": "6"
    },
    {
        "collapse": false,
        "disp": true,
        "id": "42b6ae00.90b7d4",
        "name": "Home",
        "order": 4,
        "tab": "b47e83d3.de77e",
        "type": "ui_group",
        "width": "6"
    },
    {
        "disp": true,
        "id": "c8a54de6.369ff",
        "name": "NeoPixels",
        "order": 5,
        "tab": "b47e83d3.de77e",
        "type": "ui_group",
        "width": "6"
    },
    {
        "disp": true,
        "id": "2d022f29.4a0f6",
        "name": "Switches",
        "order": 6,
        "tab": "b47e83d3.de77e",
        "type": "ui_group",
        "width": "6"
    },
    {
        "disp": true,
        "id": "a8db762f.1aeb8",
        "name": "Desk",
        "order": 1,
        "tab": "b47e83d3.de77e",
        "type": "ui_group",
        "width": "6"
    },
    {
        "collapse": false,
        "disp": true,
        "id": "9677c439.5fa54",
        "name": "Kodi",
        "order": 7,
        "tab": "b47e83d3.de77e",
        "type": "ui_group",
        "width": "6"
    },
    {
        "angleType": "deg",
        "id": "b9ef850f.12a2",
        "isValide": "true",
        "latitude": "0",
        "longitude": "0",
        "name": "Home2",
        "stateDateFormat": "12",
        "stateTimeFormat": "3",
        "timeZoneDST": 0,
        "timeZoneOffset": 99,
        "type": "position-config"
    },
    {
        "disabled": false,
        "hidden": false,
        "icon": "fa-plug",
        "id": "8f71738d.39f7d8",
        "name": "Power",
        "order": 4,
        "type": "ui_tab"
    },
    {
        "collapse": false,
        "disp": false,
        "id": "4159afe3.bd0fe",
        "name": "Solar graphs",
        "order": 2,
        "tab": "8f71738d.39f7d8",
        "type": "ui_group",
        "width": "18"
    },
    {
        "collapse": false,
        "disp": false,
        "id": "e5757e69.82094",
        "name": "Solar info",
        "order": 1,
        "tab": "8f71738d.39f7d8",
        "type": "ui_group",
        "width": "6"
    },
    {
        "disabled": false,
        "hidden": false,
        "icon": "dashboard",
        "id": "3c71ce20.73a8c2",
        "name": "Solar only",
        "order": 5,
        "type": "ui_tab"
    },
    {
        "collapse": false,
        "disp": false,
        "id": "78fa6592.1d0d3c",
        "name": "Solar only",
        "order": 1,
        "tab": "3c71ce20.73a8c2",
        "type": "ui_group",
        "width": "18"
    },
    {
        "disabled": false,
        "hidden": false,
        "icon": "dashboard",
        "id": "38eddcdf.4bf11c",
        "name": "Home power",
        "order": 6,
        "type": "ui_tab"
    },
    {
        "collapse": false,
        "disp": false,
        "id": "c13636b9.13657",
        "name": "Home power",
        "order": 1,
        "tab": "38eddcdf.4bf11c",
        "type": "ui_group",
        "width": "18"
    },
    {
        "database": "home_db",
        "hostname": "debian.fritz.box",
        "id": "697d3fd0.797c7",
        "influxdbVersion": "1.x",
        "name": "",
        "port": "8086",
        "protocol": "http",
        "tls": "",
        "type": "influxdb",
        "usetls": false
    },
    {
        "disabled": false,
        "hidden": false,
        "icon": "dashboard",
        "id": "3ecae79f.798258",
        "name": "AMP",
        "order": 6,
        "type": "ui_tab"
    },
    {
        "collapse": false,
        "disp": false,
        "id": "ffd321ee.bc6a68",
        "name": "AMP",
        "order": 1,
        "tab": "3ecae79f.798258",
        "type": "ui_group",
        "width": "6"
    },
    {
        "group": "ffd321ee.bc6a68",
        "height": 1,
        "id": "5a94b1ee.ca1428",
        "name": "spacer",
        "order": 2,
        "type": "ui_spacer",
        "width": 2
    },
    {
        "group": "ffd321ee.bc6a68",
        "height": 1,
        "id": "57d529e4.de3f58",
        "name": "spacer",
        "order": 4,
        "type": "ui_spacer",
        "width": 4
    },
    {
        "group": "ffd321ee.bc6a68",
        "height": 1,
        "id": "e756cac3.f4dce",
        "name": "spacer",
        "order": 6,
        "type": "ui_spacer",
        "width": 6
    },
    {
        "group": "ffd321ee.bc6a68",
        "height": 1,
        "id": "5d5caac3.0a752c",
        "name": "spacer",
        "order": 12,
        "type": "ui_spacer",
        "width": 2
    },
    {
        "database": "database",
        "hostname": "127.0.0.1",
        "id": "9e729019.2637e",
        "influxdbVersion": "2.0",
        "name": "InfluxDB-Flux",
        "port": "8086",
        "protocol": "http",
        "rejectUnauthorized": true,
        "tls": "",
        "type": "influxdb",
        "url": "http://debian.fritz.box:8086",
        "usetls": false
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "e3a35269.f0e2a8",
        "name": "ADC value",
        "qos": "2",
        "topic": "devices/0003376b/adc/value",
        "type": "mqtt in",
        "wires": [
            [
                "e3c53bf6.59b448"
            ]
        ],
        "x": 120,
        "y": 60,
        "z": "5d39f6e8.677b6"
    },
    {
        "func": "var value = msg.payload / 1024.0;\nmsg.payload = value.toFixed(3);\nreturn msg;\n",
        "id": "e3c53bf6.59b448",
        "name": "Convert ADC int to float",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "d60f5408.6fe028"
            ]
        ],
        "x": 390,
        "y": 60,
        "z": "5d39f6e8.677b6"
    },
    {
        "format": "{{msg.payload}}",
        "group": "a8db762f.1aeb8",
        "height": "",
        "id": "d60f5408.6fe028",
        "label": "LDR",
        "layout": "",
        "name": "",
        "order": 1,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 670,
        "y": 60,
        "z": "5d39f6e8.677b6"
    },
    {
        "decouple": "false",
        "group": "a8db762f.1aeb8",
        "height": "",
        "id": "d73bac27.181e08",
        "label": "LDR Updating",
        "name": "",
        "offcolor": "",
        "officon": "",
        "offvalue": "0",
        "offvalueType": "str",
        "oncolor": "",
        "onicon": "",
        "onvalue": "250",
        "onvalueType": "str",
        "order": 2,
        "passthru": true,
        "tooltip": "",
        "topic": "control",
        "type": "ui_switch",
        "width": "",
        "wires": [
            [
                "df07bff5.7a5ea8",
                "12f0a97b.0a7c87"
            ]
        ],
        "x": 480,
        "y": 200,
        "z": "5d39f6e8.677b6"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "8bd14e77.90b08",
        "name": "ADC interval set",
        "qos": "2",
        "retain": "false",
        "topic": "devices/0003376b/adc/interval/set",
        "type": "mqtt out",
        "wires": [],
        "x": 980,
        "y": 200,
        "z": "5d39f6e8.677b6"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "ae05073.99dba78",
        "name": "ADC interval",
        "qos": "2",
        "topic": "devices/0003376b/adc/interval",
        "type": "mqtt in",
        "wires": [
            [
                "12f0a97b.0a7c87"
            ]
        ],
        "x": 130,
        "y": 120,
        "z": "5d39f6e8.677b6"
    },
    {
        "func": "rbe",
        "gap": "",
        "id": "df07bff5.7a5ea8",
        "inout": "out",
        "name": "",
        "property": "payload",
        "start": "",
        "type": "rbe",
        "wires": [
            [
                "8bd14e77.90b08"
            ]
        ],
        "x": 690,
        "y": 200,
        "z": "5d39f6e8.677b6"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "2d574a7d.3068e6",
        "name": "Switches",
        "qos": "2",
        "topic": "devices/receiver/+/on",
        "type": "mqtt in",
        "wires": [
            [
                "f5fea1c9.e5474"
            ]
        ],
        "x": 120,
        "y": 420,
        "z": "5d39f6e8.677b6"
    },
    {
        "checkall": "false",
        "id": "f5fea1c9.e5474",
        "name": "Topic switch",
        "outputs": 5,
        "property": "topic",
        "propertyType": "msg",
        "repair": false,
        "rules": [
            {
                "t": "eq",
                "v": "devices/receiver/sw1/on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "devices/receiver/sw2/on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "devices/receiver/sw3/on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "devices/receiver/sw4/on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "devices/receiver/sw5/on",
                "vt": "str"
            }
        ],
        "type": "switch",
        "wires": [
            [
                "6d313151.b68358"
            ],
            [
                "8d733835.2e0dd"
            ],
            [
                "39503b8b.6da1dc"
            ],
            [
                "a5682b97.6461a"
            ],
            [
                "1ff61dd2.9b6d7a"
            ]
        ],
        "x": 430,
        "y": 420,
        "z": "5d39f6e8.677b6"
    },
    {
        "format": "{{msg.payload}}",
        "group": "2d022f29.4a0f6",
        "height": "",
        "id": "6d313151.b68358",
        "label": "Switch 1",
        "layout": "",
        "name": "",
        "order": 1,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 780,
        "y": 340,
        "z": "5d39f6e8.677b6"
    },
    {
        "format": "{{msg.payload}}",
        "group": "2d022f29.4a0f6",
        "height": "",
        "id": "8d733835.2e0dd",
        "label": "Switch 2",
        "layout": "",
        "name": "",
        "order": 2,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 780,
        "y": 380,
        "z": "5d39f6e8.677b6"
    },
    {
        "format": "{{msg.payload}}",
        "group": "2d022f29.4a0f6",
        "height": "",
        "id": "39503b8b.6da1dc",
        "label": "Switch 3",
        "layout": "",
        "name": "",
        "order": 3,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 780,
        "y": 420,
        "z": "5d39f6e8.677b6"
    },
    {
        "format": "{{msg.payload}}",
        "group": "2d022f29.4a0f6",
        "height": "",
        "id": "a5682b97.6461a",
        "label": "Switch 4",
        "layout": "",
        "name": "",
        "order": 4,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 780,
        "y": 460,
        "z": "5d39f6e8.677b6"
    },
    {
        "format": "{{msg.payload}}",
        "group": "2d022f29.4a0f6",
        "height": "",
        "id": "1ff61dd2.9b6d7a",
        "label": "Switch 5",
        "layout": "",
        "name": "",
        "order": 5,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 780,
        "y": 500,
        "z": "5d39f6e8.677b6"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "c4d84721.57b068",
        "name": "Doorbell",
        "qos": "2",
        "topic": "devices/receiver/doorbell/pushed",
        "type": "mqtt in",
        "wires": [
            [
                "a9244488.d9968",
                "6c6af118.4fa65"
            ]
        ],
        "x": 180,
        "y": 80,
        "z": "8986fa08.d4999"
    },
    {
        "dname": "",
        "id": "a9244488.d9968",
        "name": "j.p.cranendonk@gmail.com",
        "port": "465",
        "secure": true,
        "server": "smtp.gmail.com",
        "tls": false,
        "type": "e-mail",
        "wires": [],
        "x": 460,
        "y": 80,
        "z": "8986fa08.d4999"
    },
    {
        "crontab": "",
        "id": "14fe4241.fdab76",
        "name": "Test",
        "once": false,
        "onceDelay": 0.1,
        "payload": "true",
        "payloadType": "str",
        "repeat": "",
        "topic": "",
        "type": "inject",
        "wires": [
            [
                "3b9016f1.6d2232"
            ]
        ],
        "x": 170,
        "y": 200,
        "z": "8986fa08.d4999"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "3b9016f1.6d2232",
        "name": "",
        "qos": "2",
        "retain": "false",
        "topic": "devices/receiver/doorbell/pushed",
        "type": "mqtt out",
        "wires": [],
        "x": 440,
        "y": 200,
        "z": "8986fa08.d4999"
    },
    {
        "group": "c8a54de6.369ff",
        "height": "",
        "id": "96da407e.693bd",
        "label": "NeoPixels brightness",
        "max": "1000",
        "min": 0,
        "name": "",
        "order": 3,
        "passthru": true,
        "step": "",
        "topic": "control",
        "type": "ui_slider",
        "width": "",
        "wires": [
            [
                "916ff53a.0cf9",
                "6b6427a5.2800c8"
            ]
        ],
        "x": 580,
        "y": 680,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "c7b94c19.990b2",
        "name": "Lightshow brightness set",
        "qos": "2",
        "retain": "false",
        "topic": "control/lightshow/brightness/set",
        "type": "mqtt out",
        "wires": [],
        "x": 990,
        "y": 680,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "76d31ffb.217c88",
        "name": "Lightshow brightness",
        "qos": "2",
        "topic": "control/lightshow/brightness",
        "type": "mqtt in",
        "wires": [
            [
                "abc768.a7798098",
                "84ccb865.9d687",
                "6b6427a5.2800c8"
            ]
        ],
        "x": 120,
        "y": 680,
        "z": "9122054e.29969"
    },
    {
        "format": "{{msg.payload}}",
        "group": "c8a54de6.369ff",
        "height": "",
        "id": "abc768.a7798098",
        "label": "NeoPixels brightness",
        "layout": "",
        "name": "",
        "order": 4,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 580,
        "y": 740,
        "z": "9122054e.29969"
    },
    {
        "func": "rbe",
        "gap": "",
        "id": "916ff53a.0cf9",
        "inout": "out",
        "name": "",
        "start": "",
        "type": "rbe",
        "wires": [
            [
                "c7b94c19.990b2"
            ]
        ],
        "x": 790,
        "y": 680,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "bcf8dcb6.286228",
        "name": "Switches",
        "qos": "2",
        "topic": "devices/receiver/+/+",
        "type": "mqtt in",
        "wires": [
            [
                "cfdf0ee.92e14f"
            ]
        ],
        "x": 80,
        "y": 320,
        "z": "9122054e.29969"
    },
    {
        "checkall": "false",
        "id": "cfdf0ee.92e14f",
        "name": "Topic switch",
        "outputs": 6,
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "devices/receiver/sw1/pulse_on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "devices/receiver/sw1/pulse_off",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "devices/receiver/sw2/pulse_on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "devices/receiver/sw2/pulse_off",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "devices/receiver/sw3/pulse_on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "devices/receiver/sw3/pulse_off",
                "vt": "str"
            }
        ],
        "type": "switch",
        "wires": [
            [],
            [],
            [
                "ed72dcb2.f574e8"
            ],
            [
                "5856ee01.86b508"
            ],
            [
                "ea531c98.d9c8"
            ],
            [
                "e316f32b.1c3e98"
            ]
        ],
        "x": 290,
        "y": 320,
        "z": "9122054e.29969"
    },
    {
        "drop": true,
        "id": "ed72dcb2.f574e8",
        "name": "",
        "pauseType": "rate",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "rate": "2",
        "rateUnits": "second",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "type": "delay",
        "wires": [
            [
                "7ab5ba66.a60f8c"
            ]
        ],
        "x": 510,
        "y": 220,
        "z": "9122054e.29969"
    },
    {
        "drop": true,
        "id": "5856ee01.86b508",
        "name": "",
        "pauseType": "rate",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "rate": "2",
        "rateUnits": "second",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "type": "delay",
        "wires": [
            [
                "7ab5ba66.a60f8c"
            ]
        ],
        "x": 510,
        "y": 280,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "d06c9c5d.fe3d7",
        "name": "Modes",
        "qos": "2",
        "topic": "control/lightshow/mode/available",
        "type": "mqtt in",
        "wires": [
            [
                "7ab5ba66.a60f8c"
            ]
        ],
        "x": 590,
        "y": 160,
        "z": "9122054e.29969"
    },
    {
        "func": "if(msg.topic == \"control/lightshow/mode/available\") {\n    context.lightshow_modes = msg.payload;\n} else {\n    if(!context.lightshow_modes) {\n        return;\n    }\n\n    if(!context.lightshow_mode) {\n        context.lightshow_mode = 0;\n    }\n\n    var modes = context.lightshow_modes.split(\",\"); \n\n    if(msg.topic == \"devices/receiver/sw2/pulse_on\") {\n        context.lightshow_mode--;\n    } else if(msg.topic == \"devices/receiver/sw2/pulse_off\") {\n        context.lightshow_mode++;\n    }\n    \n    if(context.lightshow_mode >= modes.length) {\n        context.lightshow_mode = modes.length - 1;\n    }\n    if(context.lightshow_mode < 0) {\n        context.lightshow_mode = 0;\n    }\n\n    return { \n        payload: modes[context.lightshow_mode],\n        topic: \"mode\" \n    }\n\n}\n",
        "id": "7ab5ba66.a60f8c",
        "name": "Mode selector",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "4c4ca351.b7673c"
            ]
        ],
        "x": 780,
        "y": 260,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "4c4ca351.b7673c",
        "name": "Mode set",
        "qos": "2",
        "retain": "false",
        "topic": "control/lightshow/mode/set",
        "type": "mqtt out",
        "wires": [],
        "x": 1000,
        "y": 260,
        "z": "9122054e.29969"
    },
    {
        "func": "if(msg.topic == \"control/lightshow/brightness\") {\n    context.lightshow_brightness = Number(msg.payload);\n} else {\n    if(!context.lightshow_brightness) {\n        context.lightshow_brightness = 0;\n    }\n\n    if(msg.topic == \"devices/receiver/sw3/pulse_on\") {\n        context.lightshow_brightness -= 50;\n    } else if(msg.topic == \"devices/receiver/sw3/pulse_off\") {\n        context.lightshow_brightness += 50;\n    }\n    \n    if(context.lightshow_brightness > 1000) {\n        context.lightshow_brightness = 1000;\n    }\n    if(context.lightshow_brightness < 0) {\n        context.lightshow_brightness = 0;\n    }\n\n    return { \n        payload: context.lightshow_brightness,\n        topic: \"brightness\" \n    }\n\n}\n",
        "id": "84ccb865.9d687",
        "name": "Brightness",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "c7b94c19.990b2"
            ]
        ],
        "x": 590,
        "y": 480,
        "z": "9122054e.29969"
    },
    {
        "drop": true,
        "id": "e316f32b.1c3e98",
        "name": "",
        "pauseType": "rate",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "rate": "4",
        "rateUnits": "second",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "type": "delay",
        "wires": [
            [
                "84ccb865.9d687"
            ]
        ],
        "x": 510,
        "y": 400,
        "z": "9122054e.29969"
    },
    {
        "drop": true,
        "id": "ea531c98.d9c8",
        "name": "",
        "pauseType": "rate",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "rate": "4",
        "rateUnits": "second",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "type": "delay",
        "wires": [
            [
                "84ccb865.9d687"
            ]
        ],
        "x": 510,
        "y": 360,
        "z": "9122054e.29969"
    },
    {
        "func": "msg.payload = msg.payload / 1000;\nreturn msg;",
        "id": "58ce017f.25cf98",
        "name": "DIV/1000",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "ca477a98.62fb98"
            ]
        ],
        "x": 300,
        "y": 900,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "8cdd6b92.5f4b9",
        "name": "Lightshow period",
        "qos": "2",
        "topic": "control/lightshow/period",
        "type": "mqtt in",
        "wires": [
            [
                "58ce017f.25cf98"
            ]
        ],
        "x": 100,
        "y": 900,
        "z": "9122054e.29969"
    },
    {
        "group": "c8a54de6.369ff",
        "height": "",
        "id": "a4bb9eac.deacf",
        "label": "Neopixels period",
        "max": "1000",
        "min": "4",
        "name": "",
        "order": 5,
        "passthru": true,
        "step": "",
        "topic": "control",
        "type": "ui_slider",
        "width": "",
        "wires": [
            [
                "d419c385.5ddb88",
                "d56a4401.f3bf68",
                "ca477a98.62fb98"
            ]
        ],
        "x": 590,
        "y": 900,
        "z": "9122054e.29969"
    },
    {
        "func": "rbe",
        "gap": "",
        "id": "d419c385.5ddb88",
        "inout": "out",
        "name": "",
        "start": "",
        "type": "rbe",
        "wires": [
            [
                "c21b7cad.94af88"
            ]
        ],
        "x": 530,
        "y": 980,
        "z": "9122054e.29969"
    },
    {
        "format": "{{msg.payload}} ms",
        "group": "c8a54de6.369ff",
        "height": "",
        "id": "d56a4401.f3bf68",
        "label": "NeoPixels period",
        "layout": "",
        "name": "",
        "order": 6,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 910,
        "y": 900,
        "z": "9122054e.29969"
    },
    {
        "func": "msg.payload = msg.payload * 1000;\nreturn msg;",
        "id": "c21b7cad.94af88",
        "name": "MUL*1000",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "f4047c92.152c1"
            ]
        ],
        "x": 690,
        "y": 980,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "f4047c92.152c1",
        "name": "Lightshow period set",
        "qos": "2",
        "retain": "false",
        "topic": "control/lightshow/period/set",
        "type": "mqtt out",
        "wires": [],
        "x": 900,
        "y": 980,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "cf41f475.a86388",
        "name": "Switch 1",
        "qos": "2",
        "topic": "devices/receiver/sw1/on",
        "type": "mqtt in",
        "wires": [
            [
                "6952c8aa.dc7d6"
            ]
        ],
        "x": 100,
        "y": 1180,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "6952c8aa.dc7d6",
        "name": "NeoPixels on set",
        "qos": "2",
        "retain": "false",
        "topic": "devices/0003376b/light/on/set",
        "type": "mqtt out",
        "wires": [],
        "x": 970,
        "y": 1180,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "e9e43a0f.2b041",
        "name": "NeoPixels uptime",
        "qos": "2",
        "topic": "devices/0003376b/$uptime",
        "type": "mqtt in",
        "wires": [
            [
                "aec9db8e.b966a"
            ]
        ],
        "x": 100,
        "y": 80,
        "z": "9122054e.29969"
    },
    {
        "func": "var s = msg.payload;\nvar m = Math.floor(s / 60);\nvar s = s % 60;\nvar h = Math.floor(m / 60);\nvar  m = m % 60;\nvar  d = Math.floor(h / 24);\nvar  h = h % 24;\nmsg.payload = d +\"d \";\nmsg.payload += h + \"h \";\nmsg.payload += m + \"m \";\nmsg.payload += s + \"s\";\nreturn msg;",
        "id": "aec9db8e.b966a",
        "name": "Format seconds",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "bdc2750a.19d32"
            ]
        ],
        "x": 360,
        "y": 80,
        "z": "9122054e.29969"
    },
    {
        "format": "{{msg.payload}}",
        "group": "c8a54de6.369ff",
        "height": "",
        "id": "bdc2750a.19d32",
        "label": "NeoPixels uptime",
        "layout": "",
        "name": "",
        "order": 8,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 630,
        "y": 80,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "ca16c2ed.464bd8",
        "name": "NeoPixels onine",
        "qos": "2",
        "topic": "devices/0003376b/$online",
        "type": "mqtt in",
        "wires": [
            [
                "8aae44ac.f2ab7"
            ]
        ],
        "x": 100,
        "y": 40,
        "z": "9122054e.29969"
    },
    {
        "format": "{{msg.payload}}",
        "group": "c8a54de6.369ff",
        "height": "",
        "id": "8aae44ac.f2ab7",
        "label": "NeoPixels online",
        "layout": "",
        "name": "",
        "order": 2,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 640,
        "y": 40,
        "z": "9122054e.29969"
    },
    {
        "decouple": "false",
        "group": "c8a54de6.369ff",
        "height": "",
        "id": "2c680e99.70e122",
        "label": "NeoPixels On",
        "name": "",
        "offcolor": "",
        "officon": "",
        "offvalue": "false",
        "offvalueType": "str",
        "oncolor": "",
        "onicon": "",
        "onvalue": "true",
        "onvalueType": "str",
        "order": 1,
        "passthru": true,
        "topic": "control",
        "type": "ui_switch",
        "width": "",
        "wires": [
            [
                "28f1fc7b.ad001c",
                "267712fa.70c8ee"
            ]
        ],
        "x": 540,
        "y": 1340,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "3657984a.46d8b8",
        "name": "NeoPixels state",
        "qos": "2",
        "topic": "devices/0003376b/light/on",
        "type": "mqtt in",
        "wires": [
            [
                "267712fa.70c8ee"
            ]
        ],
        "x": 120,
        "y": 1340,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "8ff7841b.88307",
        "name": "NeoPixels on set",
        "qos": "2",
        "retain": "false",
        "topic": "devices/0003376b/light/on/set",
        "type": "mqtt out",
        "wires": [],
        "x": 970,
        "y": 1340,
        "z": "9122054e.29969"
    },
    {
        "func": "rbe",
        "gap": "",
        "id": "28f1fc7b.ad001c",
        "inout": "out",
        "name": "",
        "start": "",
        "type": "rbe",
        "wires": [
            [
                "8ff7841b.88307"
            ]
        ],
        "x": 750,
        "y": 1340,
        "z": "9122054e.29969"
    },
    {
        "format": "{{msg.payload}} &deg;",
        "group": "ddd0fc4c.8a5e8",
        "height": "",
        "id": "604cef75.b38078",
        "label": "Inside temperature",
        "layout": "",
        "name": "",
        "order": 1,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 770,
        "y": 520,
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}} &deg;",
        "group": "ddd0fc4c.8a5e8",
        "height": "",
        "id": "3cbd8bbc.be75a4",
        "label": "Outside temperature",
        "layout": "",
        "name": "",
        "order": 2,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 760,
        "y": 580,
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}}",
        "group": "ddd0fc4c.8a5e8",
        "height": "",
        "id": "a40ae4f5.d4a528",
        "label": "Window",
        "layout": "",
        "name": "",
        "order": 4,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 1060,
        "y": 260,
        "z": "459a3a0f.cadb4c"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "83ac489b.6336",
        "name": "Bedroom window state",
        "qos": "2",
        "topic": "control/window/status",
        "type": "mqtt in",
        "wires": [
            [
                "a40ae4f5.d4a528",
                "3e06b492.64bde4"
            ]
        ],
        "x": 120,
        "y": 300,
        "z": "459a3a0f.cadb4c"
    },
    {
        "func": "if(msg.topic == \"bedroom_inside\") {\n    context.temp_inside = msg.payload;\n}\nif(msg.topic == \"bedroom_outside\") {\n    context.temp_outside = msg.payload;\n}\nreturn { \n    payload: context.temp_outside - context.temp_inside,\n    topic: \"bedroom_diff\" \n}\n\nreturn msg;\n",
        "id": "5917594a.b2888",
        "name": "Get temp diff",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "f6b45c8d.dbadf",
                "11c77aec.a29e85"
            ]
        ],
        "x": 410,
        "y": 460,
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}} &deg;",
        "group": "ddd0fc4c.8a5e8",
        "height": "",
        "id": "f6b45c8d.dbadf",
        "label": "Temperature difference",
        "layout": "",
        "name": "",
        "order": 3,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 1010,
        "y": 400,
        "z": "459a3a0f.cadb4c"
    },
    {
        "finalize": "",
        "func": "if(msg.topic == \"011581E788FF\") {\n    msg.topic = \"bedroom_inside\";\n}\nif(msg.topic == \"devices/0085b208/f6011581e788ff28/temperature\") {\n    msg.topic = \"bedroom_inside\";\n}\nif(msg.topic == \"0119363CACBD\") {\n    msg.topic = \"bedroom_outside\";\n}\nif(msg.topic == \"devices/00d39493/0f041654733cff28/temperature\") {\n    msg.topic = \"new1\";\n}\nif(msg.topic == \"devices/00d39493/f6041653f20bff28/temperature\") {\n    msg.topic = \"new2\";\n}\n\nreturn msg;",
        "id": "f97ef03a.7bc198",
        "initialize": "",
        "name": "Rename topic",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "9fcacdd2.81043",
                "5917594a.b2888",
                "3763749a.0336c4"
            ]
        ],
        "x": 120,
        "y": 560,
        "z": "459a3a0f.cadb4c"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "c7709fe7.534e8",
        "name": "Temps",
        "qos": "2",
        "topic": "devices/+/+/temperature",
        "type": "mqtt in",
        "wires": [
            [
                "f97ef03a.7bc198"
            ]
        ],
        "x": 70,
        "y": 460,
        "z": "459a3a0f.cadb4c"
    },
    {
        "checkall": "false",
        "id": "9fcacdd2.81043",
        "name": "Topic switch",
        "outputs": 4,
        "property": "topic",
        "propertyType": "msg",
        "repair": false,
        "rules": [
            {
                "t": "eq",
                "v": "bedroom_inside",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "bedroom_outside",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "new1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "new2",
                "vt": "str"
            }
        ],
        "type": "switch",
        "wires": [
            [
                "604cef75.b38078",
                "6157c121.0384c",
                "9f5ee269.aa415",
                "286c7c9.fa72604",
                "fbf9e851.048aa",
                "5f2324b3.478a74"
            ],
            [
                "3cbd8bbc.be75a4",
                "2d62e132.9fb69e",
                "e94bf9b0.85f8b",
                "5fcb77f4.ed6328"
            ],
            [
                "f78eacdf.866578"
            ],
            [
                "4a79422.e21503c"
            ]
        ],
        "x": 130,
        "y": 700,
        "z": "459a3a0f.cadb4c"
    },
    {
        "chartType": "line",
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "cutout": "",
        "dot": false,
        "group": "ddd0fc4c.8a5e8",
        "height": "0",
        "id": "e3fef250.c6848",
        "interpolate": "linear",
        "label": "",
        "name": "Temps",
        "nodata": "No Data",
        "order": 9,
        "outputs": 1,
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "type": "ui_chart",
        "useOneColor": false,
        "useUTC": false,
        "width": "0",
        "wires": [
            []
        ],
        "x": 810,
        "xformat": "HH:mm:ss",
        "y": 760,
        "ymax": "",
        "ymin": "",
        "z": "459a3a0f.cadb4c"
    },
    {
        "drop": true,
        "id": "2d62e132.9fb69e",
        "name": "",
        "nbRateUnits": "",
        "pauseType": "rate",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "rate": "12",
        "rateUnits": "hour",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "type": "delay",
        "wires": [
            [
                "e3fef250.c6848",
                "becb99e4.ad3498"
            ]
        ],
        "x": 420,
        "y": 800,
        "z": "459a3a0f.cadb4c"
    },
    {
        "drop": true,
        "id": "6157c121.0384c",
        "name": "",
        "nbRateUnits": "",
        "pauseType": "rate",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "rate": "12",
        "rateUnits": "hour",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "type": "delay",
        "wires": [
            [
                "e3fef250.c6848",
                "becb99e4.ad3498"
            ]
        ],
        "x": 420,
        "y": 760,
        "z": "459a3a0f.cadb4c"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "10ab9a18.c4d2fe",
        "name": "Sensors online",
        "qos": "2",
        "topic": "devices/0085b208/$online",
        "type": "mqtt in",
        "wires": [
            [
                "19e5bc30.506174"
            ]
        ],
        "x": 100,
        "y": 40,
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}}",
        "group": "ddd0fc4c.8a5e8",
        "height": "",
        "id": "19e5bc30.506174",
        "label": "Sensors online",
        "layout": "",
        "name": "",
        "order": 6,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 780,
        "y": 40,
        "z": "459a3a0f.cadb4c"
    },
    {
        "chartType": "line",
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "cutout": "",
        "dot": false,
        "group": "a8db762f.1aeb8",
        "height": "",
        "id": "7efb3fd.a0dea4",
        "interpolate": "linear",
        "label": "",
        "name": "Temps",
        "nodata": "No Data",
        "order": 3,
        "outputs": 1,
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "type": "ui_chart",
        "useOneColor": false,
        "useUTC": false,
        "width": "",
        "wires": [
            []
        ],
        "x": 690,
        "xformat": "HH:mm:ss",
        "y": 920,
        "ymax": "",
        "ymin": "",
        "z": "459a3a0f.cadb4c"
    },
    {
        "drop": true,
        "id": "4a79422.e21503c",
        "name": "",
        "nbRateUnits": "",
        "pauseType": "rate",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "rate": "12",
        "rateUnits": "hour",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "type": "delay",
        "wires": [
            [
                "7efb3fd.a0dea4"
            ]
        ],
        "x": 420,
        "y": 940,
        "z": "459a3a0f.cadb4c"
    },
    {
        "drop": true,
        "id": "f78eacdf.866578",
        "name": "",
        "nbRateUnits": "",
        "pauseType": "rate",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "rate": "12",
        "rateUnits": "hour",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "type": "delay",
        "wires": [
            [
                "7efb3fd.a0dea4"
            ]
        ],
        "x": 420,
        "y": 900,
        "z": "459a3a0f.cadb4c"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "36ff733.e6e650c",
        "name": "Bedroom fan state",
        "qos": "2",
        "topic": "devices/0081b173/light/on",
        "type": "mqtt in",
        "wires": [
            [
                "99fbff09.f2e09"
            ]
        ],
        "x": 110,
        "y": 220,
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}}",
        "group": "ddd0fc4c.8a5e8",
        "height": "",
        "id": "99fbff09.f2e09",
        "label": "Fan on",
        "layout": "",
        "name": "",
        "order": 5,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 800,
        "y": 220,
        "z": "459a3a0f.cadb4c"
    },
    {
        "chartType": "line",
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "cutout": "",
        "dot": false,
        "group": "58ffad67.aac28c",
        "height": "0",
        "id": "becb99e4.ad3498",
        "interpolate": "linear",
        "label": "",
        "legend": "true",
        "name": "Temps Big Bedroom",
        "nodata": "No Data",
        "order": 5,
        "outputs": 1,
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "type": "ui_chart",
        "useOneColor": false,
        "useUTC": false,
        "width": "0",
        "wires": [
            []
        ],
        "x": 1020,
        "xformat": "HH:mm:ss",
        "y": 800,
        "ymax": "",
        "ymin": "",
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}} &deg;",
        "group": "58ffad67.aac28c",
        "height": "1",
        "id": "9f5ee269.aa415",
        "label": "Inside temperature",
        "layout": "col-center",
        "name": "",
        "order": 1,
        "type": "ui_text",
        "width": "6",
        "wires": [],
        "x": 1030,
        "y": 540,
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}} &deg;",
        "group": "58ffad67.aac28c",
        "height": "1",
        "id": "e94bf9b0.85f8b",
        "label": "Outside temperature",
        "layout": "col-center",
        "name": "",
        "order": 2,
        "type": "ui_text",
        "width": "6",
        "wires": [],
        "x": 1020,
        "y": 600,
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}} &deg;",
        "group": "58ffad67.aac28c",
        "height": "1",
        "id": "11c77aec.a29e85",
        "label": "Temperature difference",
        "layout": "col-center",
        "name": "",
        "order": 3,
        "type": "ui_text",
        "width": "6",
        "wires": [],
        "x": 1010,
        "y": 460,
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}}",
        "group": "58ffad67.aac28c",
        "height": "1",
        "id": "3e06b492.64bde4",
        "label": "Window",
        "layout": "col-center",
        "name": "",
        "order": 4,
        "type": "ui_text",
        "width": "6",
        "wires": [],
        "x": 1060,
        "y": 320,
        "z": "459a3a0f.cadb4c"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "d399f16f.11c548",
        "name": "Sensors uptime",
        "qos": "2",
        "topic": "devices/0085b208/$uptime",
        "type": "mqtt in",
        "wires": [
            [
                "1eebc888.9549bf"
            ]
        ],
        "x": 100,
        "y": 100,
        "z": "459a3a0f.cadb4c"
    },
    {
        "func": "var s = msg.payload;\nvar m = Math.floor(s / 60);\nvar s = s % 60;\nvar h = Math.floor(m / 60);\nvar  m = m % 60;\nvar  d = Math.floor(h / 24);\nvar  h = h % 24;\nmsg.payload = d +\"d \";\nmsg.payload += h + \"h \";\nmsg.payload += m + \"m \";\nmsg.payload += s + \"s\";\nreturn msg;",
        "id": "1eebc888.9549bf",
        "name": "Format seconds",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "e3b5c7ad.27665"
            ]
        ],
        "x": 340,
        "y": 100,
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}}",
        "group": "ddd0fc4c.8a5e8",
        "height": "",
        "id": "e3b5c7ad.27665",
        "label": "Sensors uptime",
        "layout": "",
        "name": "",
        "order": 7,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 780,
        "y": 100,
        "z": "459a3a0f.cadb4c"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "auto",
        "id": "5be6727d.bd676c",
        "name": "Bedroom fan online",
        "qos": "2",
        "topic": "devices/0081b173/$online",
        "type": "mqtt in",
        "wires": [
            [
                "2d116991.e72a16"
            ]
        ],
        "x": 110,
        "y": 160,
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}}",
        "group": "ddd0fc4c.8a5e8",
        "height": "",
        "id": "2d116991.e72a16",
        "label": "Relay online",
        "layout": "",
        "name": "",
        "order": 8,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 790,
        "y": 160,
        "z": "459a3a0f.cadb4c"
    },
    {
        "action": "",
        "from": "",
        "id": "c5472008.083cd8",
        "name": "",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "topic",
                "pt": "msg",
                "t": "set",
                "to": "trigger",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "267878a1.6cb448"
            ]
        ],
        "x": 370,
        "y": 240,
        "z": "f7c3f5b1.15af3"
    },
    {
        "bytopic": "all",
        "duration": "1000",
        "extend": true,
        "id": "267878a1.6cb448",
        "name": "",
        "op1": "true",
        "op1type": "str",
        "op2": "false",
        "op2type": "str",
        "outputs": 1,
        "reset": "",
        "type": "trigger",
        "units": "ms",
        "wires": [
            [
                "230bc5d2.7396a2"
            ]
        ],
        "x": 560,
        "y": 240,
        "z": "f7c3f5b1.15af3"
    },
    {
        "func": "// Message from trigger\n// The trigger sends true, then false after 1s\nif(msg.topic == \"trigger\") {\n    context.set('wait', msg.payload);\n    if(msg.payload == 'true') {\n        // Trigger started, wait...\n        return null;\n    }\n\n    // Get and remove buffered value, then send it\n    var buffered = context.get('buf');\n    if(typeof buffered !== 'undefined' &&\n       buffered !== null) {\n        context.set('buf', null);\n        return {payload: buffered};\n    }\n    return null;\n}\n\n// Message from external input\nif(context.get('wait') == 'true') {\n    // Trigger active, store value\n    context.set('buf', msg.payload);\n    return null;\n}\n\n// Trigger not active, pass on value\nreturn {payload: msg.payload};\n",
        "id": "230bc5d2.7396a2",
        "name": "buffer",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            []
        ],
        "x": 750,
        "y": 180,
        "z": "f7c3f5b1.15af3"
    },
    {
        "checkall": "true",
        "id": "ea4d6784.fc38b",
        "name": "Extract control",
        "outputs": 2,
        "property": "topic",
        "propertyType": "msg",
        "repair": false,
        "rules": [
            {
                "t": "neq",
                "v": "control",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "type": "switch",
        "wires": [
            [
                "230bc5d2.7396a2"
            ],
            [
                "c5472008.083cd8"
            ]
        ],
        "x": 180,
        "y": 180,
        "z": "f7c3f5b1.15af3"
    },
    {
        "env": [],
        "id": "12f0a97b.0a7c87",
        "name": "",
        "type": "subflow:f7c3f5b1.15af3",
        "wires": [
            [
                "d73bac27.181e08"
            ]
        ],
        "x": 480,
        "y": 120,
        "z": "5d39f6e8.677b6"
    },
    {
        "id": "267712fa.70c8ee",
        "name": "",
        "type": "subflow:f7c3f5b1.15af3",
        "wires": [
            [
                "2c680e99.70e122"
            ]
        ],
        "x": 540,
        "y": 1260,
        "z": "9122054e.29969"
    },
    {
        "id": "6b6427a5.2800c8",
        "name": "",
        "type": "subflow:f7c3f5b1.15af3",
        "wires": [
            [
                "96da407e.693bd"
            ]
        ],
        "x": 580,
        "y": 600,
        "z": "9122054e.29969"
    },
    {
        "id": "ca477a98.62fb98",
        "name": "",
        "type": "subflow:f7c3f5b1.15af3",
        "wires": [
            [
                "a4bb9eac.deacf"
            ]
        ],
        "x": 580,
        "y": 840,
        "z": "9122054e.29969"
    },
    {
        "format": "{{msg.payload}}",
        "group": "c8a54de6.369ff",
        "height": "",
        "id": "4f604ef9.95e5f",
        "label": "NeoPixels mode",
        "layout": "",
        "name": "",
        "order": 7,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 980,
        "y": 380,
        "z": "9122054e.29969"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "a8a2f458.a6a0a8",
        "name": "",
        "qos": "2",
        "topic": "control/lightshow/mode",
        "type": "mqtt in",
        "wires": [
            [
                "4f604ef9.95e5f"
            ]
        ],
        "x": 740,
        "y": 380,
        "z": "9122054e.29969"
    },
    {
        "group": "a8db762f.1aeb8",
        "height": 0,
        "id": "98327496.bfed28",
        "label": "LED strip",
        "max": "2047",
        "min": 0,
        "name": "",
        "order": 0,
        "outs": "all",
        "passthru": true,
        "step": 1,
        "tooltip": "",
        "topic": "",
        "type": "ui_slider",
        "width": 0,
        "wires": [
            [
                "5d56d136.f96c18"
            ]
        ],
        "x": 180,
        "y": 620,
        "z": "5d39f6e8.677b6"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "5d56d136.f96c18",
        "name": "",
        "qos": "2",
        "retain": "false",
        "topic": "/ledstrip1/value/set",
        "type": "mqtt out",
        "wires": [],
        "x": 510,
        "y": 620,
        "z": "5d39f6e8.677b6"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "dbbe7721.83f838",
        "name": "",
        "qos": "2",
        "retain": "false",
        "topic": "/ledstrip1/update",
        "type": "mqtt out",
        "wires": [],
        "x": 510,
        "y": 740,
        "z": "5d39f6e8.677b6"
    },
    {
        "crontab": "",
        "id": "463deb53.e62e44",
        "name": "Update",
        "once": false,
        "onceDelay": 0.1,
        "payload": "true",
        "payloadType": "str",
        "repeat": "",
        "topic": "",
        "type": "inject",
        "wires": [
            [
                "dbbe7721.83f838"
            ]
        ],
        "x": 170,
        "y": 740,
        "z": "5d39f6e8.677b6"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "c03904e8.eae328",
        "name": "",
        "qos": "2",
        "retain": "true",
        "topic": "devices/3c71bf0c0ad4/display/header/set",
        "type": "mqtt out",
        "wires": [],
        "x": 920,
        "y": 460,
        "z": "8986fa08.d4999"
    },
    {
        "crontab": "",
        "id": "72c315d3.7abf64",
        "name": "",
        "once": false,
        "onceDelay": 0.1,
        "payload": "Hello dragon!",
        "payloadType": "str",
        "repeat": "",
        "topic": "",
        "type": "inject",
        "wires": [
            [
                "c03904e8.eae328"
            ]
        ],
        "x": 450,
        "y": 500,
        "z": "8986fa08.d4999"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "utf8",
        "id": "88d8c6a6.33ee2",
        "name": "Bedroom temp inside",
        "qos": "2",
        "topic": "devices/0085b208/f6011581e788ff28/temperature",
        "type": "mqtt in",
        "wires": [
            [
                "cbc9b8e1.8d4d2"
            ]
        ],
        "x": 140,
        "y": 280,
        "z": "8986fa08.d4999"
    },
    {
        "crontab": "",
        "id": "4dc22ed0.90af3",
        "name": "",
        "once": false,
        "onceDelay": 0.1,
        "payload": "Squeee!",
        "payloadType": "str",
        "repeat": "",
        "topic": "",
        "type": "inject",
        "wires": [
            [
                "c03904e8.eae328"
            ]
        ],
        "x": 440,
        "y": 600,
        "z": "8986fa08.d4999"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "utf8",
        "id": "eb748fda.fbcb88",
        "name": "Bedroom temp outside",
        "qos": "2",
        "topic": "devices/0085b208/c480000003e30d28/temperature",
        "type": "mqtt in",
        "wires": [
            [
                "cbc9b8e1.8d4d2"
            ]
        ],
        "x": 140,
        "y": 380,
        "z": "8986fa08.d4999"
    },
    {
        "func": "if(msg.topic == \"devices/0085b208/f6011581e788ff28/temperature\") {\n    msg.topic = \"bedroom_inside\";\n}\nif(msg.topic == \"devices/0085b208/c480000003e30d28/temperature\") {\n    msg.topic = \"bedroom_outside\";\n}\nif(msg.topic == \"bedroom_outside_api\") {\n    msg.topic = \"bedroom_outside\";\n}\nreturn msg;",
        "id": "cbc9b8e1.8d4d2",
        "name": "Rename topic",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "98a0bd0c.674268"
            ]
        ],
        "x": 400,
        "y": 320,
        "z": "8986fa08.d4999"
    },
    {
        "func": "if(msg.topic == \"bedroom_inside\") {\n    context.temp_inside = msg.payload;\n}\nif(msg.topic == \"bedroom_outside\") {\n    context.temp_outside = msg.payload;\n}\nreturn { \n    payload:\n    Number(context.temp_inside).toFixed(2) + \n    \" / \" +\n    Number(context.temp_outside).toFixed(2),\n    topic: \"temps\"\n}\n",
        "id": "98a0bd0c.674268",
        "name": "To text",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "c03904e8.eae328"
            ]
        ],
        "x": 500,
        "y": 400,
        "z": "8986fa08.d4999"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "json",
        "id": "67ba4266.02fbfc",
        "name": "Playback state",
        "qos": "2",
        "topic": "kodi/status/playbackstate",
        "type": "mqtt in",
        "wires": [
            [
                "b6a7cac0.c4a028"
            ]
        ],
        "x": 140,
        "y": 160,
        "z": "fe7297a4.e6dc1"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "ba4c26e.96afb58",
        "name": "Stop",
        "qos": "2",
        "retain": "false",
        "topic": "kodi/command/playbackstate",
        "type": "mqtt out",
        "wires": [],
        "x": 1070,
        "y": 100,
        "z": "fe7297a4.e6dc1"
    },
    {
        "checkall": "false",
        "id": "b6a7cac0.c4a028",
        "name": "filter",
        "outputs": 3,
        "property": "payload.kodi_state",
        "propertyType": "msg",
        "repair": false,
        "rules": [
            {
                "t": "eq",
                "v": "started",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "stopped",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ended",
                "vt": "str"
            }
        ],
        "type": "switch",
        "wires": [
            [
                "a16f372f.63e558"
            ],
            [
                "4e8ef854.13f1b",
                "747a48e3.c4d07"
            ],
            [
                "d1c75dfe.c88f2",
                "4e8ef854.13f1b"
            ]
        ],
        "x": 330,
        "y": 160,
        "z": "fe7297a4.e6dc1"
    },
    {
        "bytopic": "all",
        "duration": "5",
        "extend": false,
        "id": "4e8ef854.13f1b",
        "name": "",
        "op1": "",
        "op1type": "nul",
        "op2": "true",
        "op2type": "bool",
        "outputs": 1,
        "reset": "",
        "type": "trigger",
        "units": "min",
        "wires": [
            [
                "c91d19f8.d1691"
            ]
        ],
        "x": 570,
        "y": 260,
        "z": "fe7297a4.e6dc1"
    },
    {
        "action": "",
        "from": "",
        "id": "a16f372f.63e558",
        "name": "",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "reset",
                "pt": "msg",
                "t": "set",
                "to": "true",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "4e8ef854.13f1b"
            ]
        ],
        "x": 580,
        "y": 180,
        "z": "fe7297a4.e6dc1"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "fa5aaf92.c00ec8",
        "name": "Play",
        "qos": "2",
        "retain": "false",
        "topic": "kodi/command/play",
        "type": "mqtt out",
        "wires": [],
        "x": 1070,
        "y": 260,
        "z": "fe7297a4.e6dc1"
    },
    {
        "action": "",
        "from": "",
        "id": "75b8c639.72a8b",
        "name": "payload = stop",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "stop",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "ba4c26e.96afb58"
            ]
        ],
        "x": 900,
        "y": 100,
        "z": "fe7297a4.e6dc1"
    },
    {
        "action": "",
        "from": "",
        "id": "c91d19f8.d1691",
        "name": "payload = dronezone",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "plugin://plugin.audio.somafm/dronezone",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "fa5aaf92.c00ec8"
            ]
        ],
        "x": 880,
        "y": 260,
        "z": "fe7297a4.e6dc1"
    },
    {
        "crontab": "",
        "id": "81b0737b.76fef",
        "name": "Play",
        "once": false,
        "onceDelay": 0.1,
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "topic": "",
        "type": "inject",
        "wires": [
            [
                "c91d19f8.d1691"
            ]
        ],
        "x": 670,
        "y": 80,
        "z": "fe7297a4.e6dc1"
    },
    {
        "crontab": "",
        "id": "eb0a573.e21c828",
        "name": "Stop",
        "once": false,
        "onceDelay": 0.1,
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "topic": "",
        "type": "inject",
        "wires": [
            [
                "75b8c639.72a8b"
            ]
        ],
        "x": 670,
        "y": 40,
        "z": "fe7297a4.e6dc1"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "json",
        "id": "dd001859.bcca98",
        "name": "Title",
        "qos": "2",
        "topic": "kodi/status/playertitle",
        "type": "mqtt in",
        "wires": [
            [
                "6e2a574f.5a841"
            ]
        ],
        "x": 110,
        "y": 400,
        "z": "fe7297a4.e6dc1"
    },
    {
        "format": "{{msg.payload}}",
        "group": "9677c439.5fa54",
        "height": 0,
        "id": "a6549fca.fa5c18",
        "label": "Title",
        "layout": "col-center",
        "name": "",
        "order": 0,
        "type": "ui_text",
        "width": 0,
        "wires": [],
        "x": 510,
        "y": 400,
        "z": "fe7297a4.e6dc1"
    },
    {
        "action": "",
        "from": "",
        "id": "6e2a574f.5a841",
        "name": "Get payload.val",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "msg.payload.val",
                "tot": "jsonata"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "a6549fca.fa5c18"
            ]
        ],
        "x": 320,
        "y": 400,
        "z": "fe7297a4.e6dc1"
    },
    {
        "action": "",
        "from": "",
        "id": "747a48e3.c4d07",
        "name": "payload = stopped",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "[Stopped]",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "a6549fca.fa5c18"
            ]
        ],
        "x": 310,
        "y": 300,
        "z": "fe7297a4.e6dc1"
    },
    {
        "action": "",
        "from": "",
        "id": "d1c75dfe.c88f2",
        "name": "payload = ended",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "[Ended]",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "a6549fca.fa5c18"
            ]
        ],
        "x": 310,
        "y": 340,
        "z": "fe7297a4.e6dc1"
    },
    {
        "id": "5c52590f.161f5",
        "info": "",
        "name": "TODO: How to persist charts over restart",
        "type": "comment",
        "wires": [],
        "x": 940,
        "y": 680,
        "z": "459a3a0f.cadb4c"
    },
    {
        "id": "462ae5be.8a045c",
        "name": "Openweathermap API key",
        "props": [
            {
                "type": "msg",
                "value": "openweather_api_key"
            }
        ],
        "type": "credentials",
        "wires": [
            [
                "8ded4e0b.24ee58"
            ]
        ],
        "x": 350,
        "y": 1120,
        "z": "459a3a0f.cadb4c"
    },
    {
        "crontab": "",
        "id": "46c47065.e8d9b",
        "name": "Every 5 min",
        "once": true,
        "onceDelay": "0.0",
        "payload": "",
        "payloadType": "date",
        "repeat": "300",
        "topic": "",
        "type": "inject",
        "wires": [
            [
                "462ae5be.8a045c"
            ]
        ],
        "x": 130,
        "y": 1120,
        "z": "459a3a0f.cadb4c"
    },
    {
        "authType": "",
        "id": "8ded4e0b.24ee58",
        "method": "GET",
        "name": "",
        "paytoqs": false,
        "persist": false,
        "proxy": "",
        "ret": "txt",
        "tls": "",
        "type": "http request",
        "url": "http://api.openweathermap.org/data/2.5/weather?q=Landsmeer,nl&units=metric&appid={{openweather_api_key}}",
        "wires": [
            [
                "deeb61a7.33ece8"
            ]
        ],
        "x": 570,
        "y": 1120,
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}} &deg;",
        "group": "ddd0fc4c.8a5e8",
        "height": "",
        "id": "88237972.7eca18",
        "label": "Outside temperature(api)",
        "layout": "",
        "name": "",
        "order": 2,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 1010,
        "y": 1040,
        "z": "459a3a0f.cadb4c"
    },
    {
        "action": "",
        "id": "deeb61a7.33ece8",
        "name": "",
        "pretty": false,
        "property": "payload",
        "type": "json",
        "wires": [
            [
                "29f31f7d.91605"
            ]
        ],
        "x": 590,
        "y": 1040,
        "z": "459a3a0f.cadb4c"
    },
    {
        "action": "",
        "from": "",
        "id": "29f31f7d.91605",
        "name": "Get temp",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "payload.main.temp",
                "tot": "msg"
            },
            {
                "p": "topic",
                "pt": "msg",
                "t": "set",
                "to": "bedroom_outside_api",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "88237972.7eca18",
                "e3fef250.c6848",
                "286c7c9.fa72604",
                "becb99e4.ad3498",
                "3cbd8bbc.be75a4",
                "e94bf9b0.85f8b",
                "fbf9e851.048aa",
                "4d5a50d4.1d35b8",
                "3763749a.0336c4"
            ]
        ],
        "x": 740,
        "y": 1040,
        "z": "459a3a0f.cadb4c"
    },
    {
        "func": "if(msg.topic == \"bedroom_inside\") {\n    context.temp_inside = msg.payload;\n}\nif(msg.topic == \"bedroom_outside_api\") {\n    context.temp_outside = msg.payload;\n}\nreturn { \n    payload: context.temp_outside - context.temp_inside,\n    topic: \"bedroom_diff\" \n}\n\nreturn msg;\n",
        "id": "286c7c9.fa72604",
        "name": "Outside diff",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "39649088.9e1208",
                "f6b45c8d.dbadf",
                "11c77aec.a29e85"
            ]
        ],
        "x": 790,
        "y": 1200,
        "z": "459a3a0f.cadb4c"
    },
    {
        "crontab": "",
        "id": "3bc54bde.1413ac",
        "name": "Open",
        "once": false,
        "onceDelay": 0.1,
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "topic": "",
        "type": "inject",
        "wires": [
            [
                "6f726c2.3989694"
            ]
        ],
        "x": 390,
        "y": 1360,
        "z": "459a3a0f.cadb4c"
    },
    {
        "crontab": "",
        "id": "60835a40.3fd5f4",
        "name": "Close",
        "once": false,
        "onceDelay": 0.1,
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "topic": "",
        "type": "inject",
        "wires": [
            [
                "20492d95.5756aa"
            ]
        ],
        "x": 390,
        "y": 1460,
        "z": "459a3a0f.cadb4c"
    },
    {
        "crontab": "",
        "id": "11e5daad.4b931d",
        "name": "Every 5 sec",
        "once": true,
        "onceDelay": "3",
        "payload": "",
        "payloadType": "date",
        "repeat": "5",
        "topic": "",
        "type": "inject",
        "wires": [
            [
                "deb7a328.2db828"
            ]
        ],
        "x": 410,
        "y": 1520,
        "z": "459a3a0f.cadb4c"
    },
    {
        "action": "",
        "from": "",
        "id": "b60fc641.bbc1e8",
        "name": "'open'",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "Open",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "a40ae4f5.d4a528"
            ]
        ],
        "x": 390,
        "y": 1200,
        "z": "459a3a0f.cadb4c"
    },
    {
        "action": "",
        "from": "",
        "id": "a0363f35.4589e8",
        "name": "'closed'",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "Closed",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "a40ae4f5.d4a528"
            ]
        ],
        "x": 400,
        "y": 1240,
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}}",
        "group": "ddd0fc4c.8a5e8",
        "height": "",
        "id": "67cd37a1.f6fb6",
        "label": "Window target",
        "layout": "",
        "name": "",
        "order": 4,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 640,
        "y": 1780,
        "z": "459a3a0f.cadb4c"
    },
    {
        "checkall": "true",
        "id": "39ed0882.fb485",
        "name": "== 'closed'",
        "outputs": 1,
        "property": "window_target",
        "propertyType": "flow",
        "repair": false,
        "rules": [
            {
                "t": "eq",
                "v": "closed",
                "vt": "str"
            }
        ],
        "type": "switch",
        "wires": [
            [
                "20492d95.5756aa"
            ]
        ],
        "x": 410,
        "y": 1420,
        "z": "459a3a0f.cadb4c"
    },
    {
        "checkall": "true",
        "id": "14f70808.37a748",
        "name": "== 'open'",
        "outputs": 1,
        "property": "window_target",
        "propertyType": "flow",
        "repair": false,
        "rules": [
            {
                "t": "eq",
                "v": "open",
                "vt": "str"
            }
        ],
        "type": "switch",
        "wires": [
            [
                "6f726c2.3989694"
            ]
        ],
        "x": 400,
        "y": 1320,
        "z": "459a3a0f.cadb4c"
    },
    {
        "endOffset": 0,
        "endOffsetAlt": 0,
        "endOffsetAltMultiplier": 60000,
        "endOffsetAltType": "none",
        "endOffsetMultiplier": 60000,
        "endOffsetType": "none",
        "endTime": "12:00",
        "endTimeAlt": "",
        "endTimeAltType": "entered",
        "endTimeType": "entered",
        "id": "629b989f.9d90b",
        "name": "",
        "nameInt": "",
        "positionConfig": "b9ef850f.12a2",
        "propertyEnd": "",
        "propertyEndCompare": "true",
        "propertyEndThreshold": "",
        "propertyEndThresholdType": "num",
        "propertyEndType": "none",
        "propertyStart": "",
        "propertyStartCompare": "true",
        "propertyStartThreshold": "",
        "propertyStartThresholdType": "num",
        "propertyStartType": "none",
        "startOffset": 0,
        "startOffsetAlt": 0,
        "startOffsetAltMultiplier": 60000,
        "startOffsetAltType": "none",
        "startOffsetMultiplier": 60000,
        "startOffsetType": "none",
        "startTime": "7:40",
        "startTimeAlt": "",
        "startTimeAltType": "entered",
        "startTimeType": "entered",
        "timeDays": "*",
        "timeMonths": "*",
        "timeOnlyEvenDays": false,
        "timeOnlyOddDays": false,
        "timedateend": "",
        "timedatestart": "",
        "tsCompare": "0",
        "type": "within-time-switch",
        "wires": [
            [],
            []
        ],
        "x": 410,
        "y": 1600,
        "z": "459a3a0f.cadb4c"
    },
    {
        "crontab": "",
        "id": "120b3fd7.78f3c",
        "name": "Every 30 sec",
        "once": true,
        "onceDelay": "10",
        "payload": "",
        "payloadType": "date",
        "repeat": "30",
        "topic": "",
        "type": "inject",
        "wires": [
            [
                "629b989f.9d90b"
            ]
        ],
        "x": 200,
        "y": 1600,
        "z": "459a3a0f.cadb4c"
    },
    {
        "action": "",
        "from": "",
        "id": "1275a2b9.0d5345",
        "name": "",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "window_target",
                "pt": "flow",
                "t": "set",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            []
        ],
        "x": 660,
        "y": 1720,
        "z": "459a3a0f.cadb4c"
    },
    {
        "checkall": "true",
        "id": "c1ec2f58.72581",
        "name": "Temp diff action",
        "outputs": 2,
        "property": "temp_diff",
        "propertyType": "flow",
        "repair": false,
        "rules": [
            {
                "t": "gt",
                "v": "0.0",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "-0.75",
                "vt": "num"
            }
        ],
        "type": "switch",
        "wires": [
            [],
            []
        ],
        "x": 420,
        "y": 1660,
        "z": "459a3a0f.cadb4c"
    },
    {
        "action": "",
        "from": "",
        "id": "39649088.9e1208",
        "name": "",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "temp_diff",
                "pt": "flow",
                "t": "set",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            []
        ],
        "x": 990,
        "y": 1200,
        "z": "459a3a0f.cadb4c"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "json",
        "id": "2890bb46.0c3124",
        "name": "Sensor",
        "qos": "2",
        "topic": "tele/tasmota_6815F0/SENSOR",
        "type": "mqtt in",
        "wires": [
            [
                "efb92a55.cfeae",
                "416e9cf9.1f2fc4",
                "3d477034.659ef",
                "89991293.60e4b8",
                "24c96ff0.a2e218",
                "68ab9a36.18dc5c",
                "3bd285ac.74b7aa",
                "12e726fa.9b0d29",
                "a452dcf7.60f9b",
                "6757fa12.66ed94"
            ]
        ],
        "x": 130,
        "y": 160,
        "z": "307f8b6a.ec1714"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "json",
        "id": "27b20e8d.fd4fd2",
        "name": "State",
        "qos": "2",
        "topic": "tele/tasmota_6815F0/STATE",
        "type": "mqtt in",
        "wires": [
            []
        ],
        "x": 130,
        "y": 220,
        "z": "307f8b6a.ec1714"
    },
    {
        "action": "",
        "from": "",
        "id": "efb92a55.cfeae",
        "name": "Power",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "msg.payload.ENERGY.Power",
                "tot": "jsonata"
            },
            {
                "p": "topic",
                "pt": "msg",
                "t": "set",
                "to": "Real Power",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "e7deb6a4.eb2908",
                "3101793.1525786"
            ]
        ],
        "x": 430,
        "y": 180,
        "z": "307f8b6a.ec1714"
    },
    {
        "action": "",
        "from": "",
        "id": "416e9cf9.1f2fc4",
        "name": "ApparentPower",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "msg.payload.ENERGY.ApparentPower",
                "tot": "jsonata"
            },
            {
                "p": "topic",
                "pt": "msg",
                "t": "set",
                "to": "Apparent Power",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "34d0b956.de6cee"
            ]
        ],
        "x": 460,
        "y": 220,
        "z": "307f8b6a.ec1714"
    },
    {
        "action": "",
        "from": "",
        "id": "3d477034.659ef",
        "name": "ReactivePower",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "msg.payload.ENERGY.ReactivePower",
                "tot": "jsonata"
            },
            {
                "p": "topic",
                "pt": "msg",
                "t": "set",
                "to": "Reactive Power",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "cea6b536.506538"
            ]
        ],
        "x": 460,
        "y": 260,
        "z": "307f8b6a.ec1714"
    },
    {
        "action": "",
        "from": "",
        "id": "89991293.60e4b8",
        "name": "Factor",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "msg.payload.ENERGY.Factor",
                "tot": "jsonata"
            },
            {
                "p": "topic",
                "pt": "msg",
                "t": "set",
                "to": "Factor",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "996f3ed7.18817"
            ]
        ],
        "x": 430,
        "y": 400,
        "z": "307f8b6a.ec1714"
    },
    {
        "action": "",
        "from": "",
        "id": "24c96ff0.a2e218",
        "name": "Voltage",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "msg.payload.ENERGY.Voltage",
                "tot": "jsonata"
            },
            {
                "p": "topic",
                "pt": "msg",
                "t": "set",
                "to": "Voltage",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "4e745a03.38f584"
            ]
        ],
        "x": 440,
        "y": 320,
        "z": "307f8b6a.ec1714"
    },
    {
        "action": "",
        "from": "",
        "id": "68ab9a36.18dc5c",
        "name": "Current",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "msg.payload.ENERGY.Current",
                "tot": "jsonata"
            },
            {
                "p": "topic",
                "pt": "msg",
                "t": "set",
                "to": "Current",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "d2cf9a06.37e4b"
            ]
        ],
        "x": 440,
        "y": 360,
        "z": "307f8b6a.ec1714"
    },
    {
        "format": "{{msg.payload}} W",
        "group": "e5757e69.82094",
        "height": 0,
        "id": "e7deb6a4.eb2908",
        "label": "Real Power",
        "layout": "row-spread",
        "name": "",
        "order": 3,
        "type": "ui_text",
        "width": 0,
        "wires": [],
        "x": 930,
        "y": 180,
        "z": "307f8b6a.ec1714"
    },
    {
        "format": "{{msg.payload}} VA",
        "group": "e5757e69.82094",
        "height": 0,
        "id": "34d0b956.de6cee",
        "label": "Apparent Power",
        "layout": "row-spread",
        "name": "",
        "order": 4,
        "type": "ui_text",
        "width": 0,
        "wires": [],
        "x": 940,
        "y": 220,
        "z": "307f8b6a.ec1714"
    },
    {
        "format": "{{msg.payload}} VAr",
        "group": "e5757e69.82094",
        "height": 0,
        "id": "cea6b536.506538",
        "label": "Reactive Power",
        "layout": "row-spread",
        "name": "",
        "order": 5,
        "type": "ui_text",
        "width": 0,
        "wires": [],
        "x": 940,
        "y": 260,
        "z": "307f8b6a.ec1714"
    },
    {
        "format": "{{msg.payload}} V",
        "group": "e5757e69.82094",
        "height": 0,
        "id": "4e745a03.38f584",
        "label": "Voltage",
        "layout": "row-spread",
        "name": "",
        "order": 1,
        "type": "ui_text",
        "width": 0,
        "wires": [],
        "x": 920,
        "y": 320,
        "z": "307f8b6a.ec1714"
    },
    {
        "format": "{{msg.payload}} A",
        "group": "e5757e69.82094",
        "height": 0,
        "id": "d2cf9a06.37e4b",
        "label": "Current",
        "layout": "row-spread",
        "name": "",
        "order": 2,
        "type": "ui_text",
        "width": 0,
        "wires": [],
        "x": 920,
        "y": 360,
        "z": "307f8b6a.ec1714"
    },
    {
        "format": "{{msg.payload}}",
        "group": "e5757e69.82094",
        "height": 0,
        "id": "996f3ed7.18817",
        "label": "Power Factor",
        "layout": "row-spread",
        "name": "",
        "order": 6,
        "type": "ui_text",
        "width": 0,
        "wires": [],
        "x": 940,
        "y": 400,
        "z": "307f8b6a.ec1714"
    },
    {
        "format": "{{msg.payload}} kWh",
        "group": "e5757e69.82094",
        "height": 0,
        "id": "f8a4bdbe.ed16a8",
        "label": "Energy Total",
        "layout": "row-spread",
        "name": "",
        "order": 9,
        "type": "ui_text",
        "width": 0,
        "wires": [],
        "x": 930,
        "y": 460,
        "z": "307f8b6a.ec1714"
    },
    {
        "format": "{{msg.payload}} kWh",
        "group": "e5757e69.82094",
        "height": 0,
        "id": "909e3fbe.c4656",
        "label": "Energy Yesterday",
        "layout": "row-spread",
        "name": "",
        "order": 8,
        "type": "ui_text",
        "width": 0,
        "wires": [],
        "x": 950,
        "y": 540,
        "z": "307f8b6a.ec1714"
    },
    {
        "format": "{{msg.payload}} kWh",
        "group": "e5757e69.82094",
        "height": 0,
        "id": "75b16ed4.b2027",
        "label": "Energy Today",
        "layout": "row-spread",
        "name": "",
        "order": 7,
        "type": "ui_text",
        "width": 0,
        "wires": [],
        "x": 940,
        "y": 500,
        "z": "307f8b6a.ec1714"
    },
    {
        "action": "",
        "from": "",
        "id": "a452dcf7.60f9b",
        "name": "Today",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "msg.payload.ENERGY.Today",
                "tot": "jsonata"
            },
            {
                "p": "topic",
                "pt": "msg",
                "t": "set",
                "to": "Today",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "75b16ed4.b2027"
            ]
        ],
        "x": 430,
        "y": 500,
        "z": "307f8b6a.ec1714"
    },
    {
        "action": "",
        "from": "",
        "id": "3bd285ac.74b7aa",
        "name": "Total",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "msg.payload.ENERGY.Total",
                "tot": "jsonata"
            },
            {
                "p": "topic",
                "pt": "msg",
                "t": "set",
                "to": "Total",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "f8a4bdbe.ed16a8"
            ]
        ],
        "x": 430,
        "y": 460,
        "z": "307f8b6a.ec1714"
    },
    {
        "action": "",
        "from": "",
        "id": "12e726fa.9b0d29",
        "name": "Yesterday",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "msg.payload.ENERGY.Yesterday",
                "tot": "jsonata"
            },
            {
                "p": "topic",
                "pt": "msg",
                "t": "set",
                "to": "Yesterday",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "909e3fbe.c4656"
            ]
        ],
        "x": 440,
        "y": 540,
        "z": "307f8b6a.ec1714"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "utf8",
        "id": "ea0c094e.6e9b",
        "name": "P1 input",
        "qos": "2",
        "topic": "tele/tasmota_012311/RESULT",
        "type": "mqtt in",
        "wires": [
            [
                "91a54f37.f20998"
            ]
        ],
        "x": 130,
        "y": 160,
        "z": "53214520.af847c"
    },
    {
        "func": "var res = msg.payload.match(/(.+?)(\\(.+)/);\n\nif (res === null) {\n    return null;\n}\n\nmsg.topic = res[1];\nmsg.payload = res[2];\n\nreturn msg;\n",
        "id": "1c2f7155.83a77f",
        "name": "Get header/data",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "d884a3d7.e75d9"
            ]
        ],
        "x": 500,
        "y": 260,
        "z": "53214520.af847c"
    },
    {
        "checkall": "true",
        "id": "d884a3d7.e75d9",
        "name": "Get current power",
        "outputs": 6,
        "property": "topic",
        "propertyType": "msg",
        "repair": false,
        "rules": [
            {
                "t": "eq",
                "v": "1-0:1.7.0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-0:2.7.0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-0:1.8.1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-0:1.8.2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-0:2.8.1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-0:2.8.2",
                "vt": "str"
            }
        ],
        "type": "switch",
        "wires": [
            [
                "2767f59a.0aa2a2"
            ],
            [
                "96383f7.8c883c"
            ],
            [
                "ed5eb5fe.63efd8"
            ],
            [
                "667ccb31.a889b4"
            ],
            [
                "f49a0d16.460bd8"
            ],
            [
                "29394d7e.fe0202"
            ]
        ],
        "x": 490,
        "y": 340,
        "z": "53214520.af847c"
    },
    {
        "func": "var res = msg.payload.match(/\\((\\d\\d\\.\\d\\d\\d)\\*kW\\)/);\n\nif (res === null) {\n    return null;\n}\n\nmsg.payload = parseFloat(res[1]) * 1000;\nmsg.topic = \"Watt in\"\n\nreturn msg;\n",
        "id": "2767f59a.0aa2a2",
        "name": "Watt in",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "ac50c75f.fce3",
                "c7edeb41.3b9c48",
                "6de2dae7.04f41c"
            ]
        ],
        "x": 750,
        "y": 300,
        "z": "53214520.af847c"
    },
    {
        "func": "var res = msg.payload.match(/\\((\\d\\d\\.\\d\\d\\d)\\*kW\\)/);\n\nif (res === null) {\n    return null;\n}\n\nmsg.payload = parseFloat(res[1]) * -1000;\nmsg.topic = \"Watt out\"\n\nreturn msg;\n",
        "id": "96383f7.8c883c",
        "name": "Watt out",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "ac50c75f.fce3",
                "8a847845.5383e"
            ]
        ],
        "x": 760,
        "y": 420,
        "z": "53214520.af847c"
    },
    {
        "chartType": "line",
        "colors": [
            "#1f77b4",
            "#ff0aef",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "cutout": 0,
        "dot": false,
        "group": "c13636b9.13657",
        "height": 0,
        "id": "ac50c75f.fce3",
        "interpolate": "linear",
        "label": "",
        "legend": "true",
        "name": "Power",
        "nodata": "",
        "order": 4,
        "outputs": 1,
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "type": "ui_chart",
        "useOneColor": false,
        "useUTC": false,
        "width": 0,
        "wires": [
            []
        ],
        "x": 990,
        "xformat": "HH:mm:ss",
        "y": 360,
        "ymax": "1000",
        "ymin": "-500",
        "z": "53214520.af847c"
    },
    {
        "id": "3101793.1525786",
        "links": [
            "1bb92743.73f8c9"
        ],
        "name": "",
        "type": "link out",
        "wires": [],
        "x": 875,
        "y": 140,
        "z": "307f8b6a.ec1714"
    },
    {
        "id": "1bb92743.73f8c9",
        "links": [
            "3101793.1525786"
        ],
        "name": "",
        "type": "link in",
        "wires": [
            [
                "f024de81.164de"
            ]
        ],
        "x": 715,
        "y": 480,
        "z": "53214520.af847c"
    },
    {
        "id": "3b09687b.0e773",
        "info": "",
        "name": "Small chart, numbers above, only last .. ?",
        "type": "comment",
        "wires": [],
        "x": 940,
        "y": 760,
        "z": "53214520.af847c"
    },
    {
        "action": "",
        "from": "",
        "id": "f024de81.164de",
        "name": "",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "topic",
                "pt": "msg",
                "t": "set",
                "to": "Solar Power",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "ac50c75f.fce3",
                "ca0554c3.d3ec"
            ]
        ],
        "x": 850,
        "y": 480,
        "z": "53214520.af847c"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "json",
        "id": "3cd341cb.92b7fe",
        "name": "",
        "qos": "2",
        "topic": "tele/+/SENSOR",
        "type": "mqtt in",
        "wires": [
            [
                "8965c4c.bc1e1b8"
            ]
        ],
        "x": 100,
        "y": 400,
        "z": "459a3a0f.cadb4c"
    },
    {
        "id": "fbf9e851.048aa",
        "links": [
            "e86fa4f8.ce18e8"
        ],
        "name": "",
        "type": "link out",
        "wires": [],
        "x": 815,
        "y": 1120,
        "z": "459a3a0f.cadb4c"
    },
    {
        "id": "e86fa4f8.ce18e8",
        "links": [
            "fbf9e851.048aa"
        ],
        "name": "",
        "type": "link in",
        "wires": [
            [
                "cbc9b8e1.8d4d2"
            ]
        ],
        "x": 215,
        "y": 500,
        "z": "8986fa08.d4999"
    },
    {
        "func": "msg.payload = msg.payload.replace(/[\\r\\n]/, '');\nreturn msg;\n",
        "id": "91a54f37.f20998",
        "name": "Remove CR/LF",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "f903af0b.e2c008"
            ]
        ],
        "x": 300,
        "y": 160,
        "z": "53214520.af847c"
    },
    {
        "action": "obj",
        "id": "f903af0b.e2c008",
        "name": "",
        "pretty": false,
        "property": "payload",
        "type": "json",
        "wires": [
            [
                "e3a2b6af.ecbe5"
            ]
        ],
        "x": 270,
        "y": 200,
        "z": "53214520.af847c"
    },
    {
        "action": "",
        "from": "",
        "id": "e3a2b6af.ecbe5",
        "name": "",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "msg.payload.SerialReceived",
                "tot": "jsonata"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "1c2f7155.83a77f",
                "4c769910.a231d"
            ]
        ],
        "x": 300,
        "y": 240,
        "z": "53214520.af847c"
    },
    {
        "format": "{{msg.payload}} W",
        "group": "c13636b9.13657",
        "height": "1",
        "id": "c7edeb41.3b9c48",
        "label": "Watt in",
        "layout": "row-left",
        "name": "",
        "order": 2,
        "type": "ui_text",
        "width": "3",
        "wires": [],
        "x": 1010,
        "y": 200,
        "z": "53214520.af847c"
    },
    {
        "format": "{{msg.payload}} W",
        "group": "c13636b9.13657",
        "height": "1",
        "id": "8a847845.5383e",
        "label": "Watt out",
        "layout": "row-left",
        "name": "",
        "order": 3,
        "type": "ui_text",
        "width": "3",
        "wires": [],
        "x": 1020,
        "y": 260,
        "z": "53214520.af847c"
    },
    {
        "format": "{{msg.payload}} W",
        "group": "c13636b9.13657",
        "height": "1",
        "id": "ca0554c3.d3ec",
        "label": "Solar Power",
        "layout": "row-left",
        "name": "",
        "order": 1,
        "type": "ui_text",
        "width": "3",
        "wires": [],
        "x": 1030,
        "y": 480,
        "z": "53214520.af847c"
    },
    {
        "func": "var res = msg.payload.match(/\\((\\d{6}\\.\\d{3})\\*kWh\\)/);\n\nif (res === null) {\n    return null;\n}\n\nmsg.payload = parseFloat(res[1]);\nmsg.topic = \"kWh Received T1\"\n\nreturn msg;\n",
        "id": "ed5eb5fe.63efd8",
        "name": "kWh Received T1",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "35173762.b4c95"
            ]
        ],
        "x": 750,
        "y": 560,
        "z": "53214520.af847c"
    },
    {
        "func": "var res = msg.payload.match(/\\((\\d{6}\\.\\d{3})\\*kWh\\)/);\n\nif (res === null) {\n    return null;\n}\n\nmsg.payload = parseFloat(res[1]);\nmsg.topic = \"kWh Received T2\"\n\nreturn msg;\n",
        "id": "667ccb31.a889b4",
        "name": "kWh Received T2",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "36f4d085.5b5e08"
            ]
        ],
        "x": 750,
        "y": 600,
        "z": "53214520.af847c"
    },
    {
        "func": "var res = msg.payload.match(/\\((\\d{6}\\.\\d{3})\\*kWh\\)/);\n\nif (res === null) {\n    return null;\n}\n\nmsg.payload = parseFloat(res[1]);\nmsg.topic = \"kWh Sent T1\"\n\nreturn msg;\n",
        "id": "f49a0d16.460bd8",
        "name": "kWh Sent T1",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "46e4ff24.111bd"
            ]
        ],
        "x": 730,
        "y": 640,
        "z": "53214520.af847c"
    },
    {
        "func": "var res = msg.payload.match(/\\((\\d{6}\\.\\d{3})\\*kWh\\)/);\n\nif (res === null) {\n    return null;\n}\n\nmsg.payload = parseFloat(res[1]);\nmsg.topic = \"kWh Sent T2\"\n\nreturn msg;\n",
        "id": "29394d7e.fe0202",
        "name": "kWh Sent T2",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "4e2cffa9.40b838"
            ]
        ],
        "x": 730,
        "y": 680,
        "z": "53214520.af847c"
    },
    {
        "format": "{{msg.payload}} Watt",
        "group": "42b6ae00.90b7d4",
        "height": "",
        "id": "6de2dae7.04f41c",
        "label": "Power usage",
        "layout": "",
        "name": "",
        "order": 2,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 450,
        "y": 740,
        "z": "53214520.af847c"
    },
    {
        "format": "{{msg.payload}} M<sup>3</sup>",
        "group": "42b6ae00.90b7d4",
        "height": "",
        "id": "b2b0f8a7.992778",
        "label": "Gas usage ???",
        "layout": "",
        "name": "",
        "order": 7,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 440,
        "y": 800,
        "z": "53214520.af847c"
    },
    {
        "format": "{{msg.payload}} &deg;",
        "group": "42b6ae00.90b7d4",
        "height": "",
        "id": "23a951ff.e26b76",
        "label": "Cur. temp",
        "layout": "",
        "name": "",
        "order": 1,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 780,
        "y": 360,
        "z": "459a3a0f.cadb4c"
    },
    {
        "format": "{{msg.payload}} kWh",
        "group": "42b6ae00.90b7d4",
        "height": "",
        "id": "35173762.b4c95",
        "label": "kWh in night",
        "layout": "",
        "name": "",
        "order": 4,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 990,
        "y": 560,
        "z": "53214520.af847c"
    },
    {
        "format": "{{msg.payload}} kWh",
        "group": "42b6ae00.90b7d4",
        "height": "",
        "id": "36f4d085.5b5e08",
        "label": "kWh in day",
        "layout": "",
        "name": "",
        "order": 3,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 990,
        "y": 600,
        "z": "53214520.af847c"
    },
    {
        "format": "{{msg.payload}} kWh",
        "group": "42b6ae00.90b7d4",
        "height": "",
        "id": "46e4ff24.111bd",
        "label": "kWh out night",
        "layout": "",
        "name": "",
        "order": 6,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 1000,
        "y": 640,
        "z": "53214520.af847c"
    },
    {
        "format": "{{msg.payload}} kWh",
        "group": "42b6ae00.90b7d4",
        "height": "",
        "id": "4e2cffa9.40b838",
        "label": "kWh out day",
        "layout": "",
        "name": "",
        "order": 5,
        "type": "ui_text",
        "width": "",
        "wires": [],
        "x": 990,
        "y": 680,
        "z": "53214520.af847c"
    },
    {
        "finalize": "",
        "func": "time = msg.payload.Time;\ndata = msg.payload.ENERGY;\n\nmsg.measurement = \"solar_power\";\nmsg.payload = {\n  value: data.Power,\n  power: data.Power,\n  apparent_power: data.ApparentPower,\n  reactive_power: data.ReactivePower,\n  voltage: data.Voltage,\n  current: data.Current,\n  factor: data.Factor,\n  total_start_time: data.TotalStartTime,\n  total: data.Total,\n  today: data.Today,\n  yesterday: data.Yesterday,\n  time: new Date(time).getTime()\n};\nreturn msg;\n",
        "id": "6757fa12.66ed94",
        "initialize": "",
        "name": "To influxdb format",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "cf463c2c.d0c398"
            ]
        ],
        "x": 470,
        "y": 80,
        "z": "307f8b6a.ec1714"
    },
    {
        "crontab": "",
        "id": "73a521e3.a0e228",
        "name": "",
        "once": false,
        "onceDelay": 0.1,
        "payload": "",
        "payloadType": "date",
        "repeat": "30",
        "topic": "",
        "type": "inject",
        "wires": [
            [
                "c6e1b736.a7c118"
            ]
        ],
        "x": 130,
        "y": 100,
        "z": "da818f88.a776d"
    },
    {
        "id": "793e9ab1.6a1b7c",
        "influxdb": "9e729019.2637e",
        "name": "",
        "org": "phin-home",
        "precision": "",
        "query": "",
        "rawOutput": false,
        "retentionPolicy": "",
        "type": "influxdb in",
        "wires": [
            [
                "c13e3bc9.29ac58"
            ]
        ],
        "x": 510,
        "y": 100,
        "z": "da818f88.a776d"
    },
    {
        "finalize": "",
        "func": "msg.query = `import \"date\"\nimport \"experimental\"\n\nfrom(bucket: \"home_db/autogen\")\n  |> range(\n       start: experimental.addDuration(d: 7h, to: date.truncate(t: 0d, unit: 1d)), \n       stop: experimental.addDuration(d: 23h, to: date.truncate(t: 0d, unit: 1d))\n     )\n  |> filter(fn: (r) => r[\"_measurement\"] == \"solar_power\")\n  |> filter(fn: (r) => r[\"_field\"] == \"power\" or r[\"_field\"] == \"apparent_power\" or r[\"_field\"] == \"reactive_power\" or r[\"_field\"] == \"voltage\" or r[\"_field\"] == \"current\" or r[\"_field\"] == \"factor\")\n  |> timeShift(duration: -1h)  \n  |> aggregateWindow(every: 2m, fn: mean, createEmpty: true)\n  |> yield(name: \"mean\")`\n\n\nreturn msg;",
        "id": "c6e1b736.a7c118",
        "initialize": "",
        "name": "Query",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "793e9ab1.6a1b7c"
            ]
        ],
        "x": 310,
        "y": 100,
        "z": "da818f88.a776d"
    },
    {
        "chartType": "line",
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "cutout": 0,
        "dot": false,
        "group": "4159afe3.bd0fe",
        "height": 0,
        "id": "71cbe8d8.f1fcb8",
        "interpolate": "linear",
        "label": "",
        "legend": "true",
        "name": "Power",
        "nodata": "",
        "order": 1,
        "outputs": 1,
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "type": "ui_chart",
        "useOneColor": false,
        "useUTC": false,
        "width": 0,
        "wires": [
            []
        ],
        "x": 550,
        "xformat": "HH:mm:ss",
        "y": 260,
        "ymax": "",
        "ymin": "0",
        "z": "da818f88.a776d"
    },
    {
        "chartType": "line",
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "cutout": 0,
        "dot": false,
        "group": "4159afe3.bd0fe",
        "height": "4",
        "id": "4142ba6e.7b1854",
        "interpolate": "linear",
        "label": "Voltage",
        "legend": "false",
        "name": "",
        "nodata": "",
        "order": 2,
        "outputs": 1,
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "type": "ui_chart",
        "useOneColor": false,
        "useUTC": false,
        "width": "6",
        "wires": [
            []
        ],
        "x": 560,
        "xformat": "HH:mm:ss",
        "y": 300,
        "ymax": "",
        "ymin": "0",
        "z": "da818f88.a776d"
    },
    {
        "chartType": "line",
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "cutout": 0,
        "dot": false,
        "group": "4159afe3.bd0fe",
        "height": "4",
        "id": "63d08d40.dba0cc",
        "interpolate": "linear",
        "label": "Current",
        "legend": "false",
        "name": "",
        "nodata": "",
        "order": 3,
        "outputs": 1,
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "type": "ui_chart",
        "useOneColor": false,
        "useUTC": false,
        "width": "6",
        "wires": [
            []
        ],
        "x": 560,
        "xformat": "HH:mm:ss",
        "y": 340,
        "ymax": "",
        "ymin": "0",
        "z": "da818f88.a776d"
    },
    {
        "chartType": "line",
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "cutout": 0,
        "dot": false,
        "group": "4159afe3.bd0fe",
        "height": "4",
        "id": "2d2ae5fa.5e0f02",
        "interpolate": "linear",
        "label": "Factor",
        "legend": "false",
        "name": "",
        "nodata": "",
        "order": 4,
        "outputs": 1,
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "type": "ui_chart",
        "useOneColor": false,
        "useUTC": false,
        "width": "6",
        "wires": [
            []
        ],
        "x": 550,
        "xformat": "HH:mm:ss",
        "y": 380,
        "ymax": "",
        "ymin": "0",
        "z": "da818f88.a776d"
    },
    {
        "finalize": "",
        "func": "seriesPower = \n    msg.payload.filter(record => record._field === \"power\")\n    .map(record => ({ \n        \"x\": record._time, \n        \"y\": record._value}));\nseriesApparentPower = \n    msg.payload.filter(record => record._field === \"apparent_power\")\n    .map(record => ({ \n        \"x\": record._time, \n        \"y\": record._value}));\nseriesReactivePower = \n    msg.payload.filter(record => record._field === \"reactive_power\")\n    .map(record => ({ \n        \"x\": record._time, \n        \"y\": record._value}));\nseriesVoltage =\n    msg.payload.filter(record => record._field === \"voltage\")\n    .map(record => ({ \n        \"x\": record._time, \n        \"y\": record._value}));\nseriesCurrent =\n    msg.payload.filter(record => record._field === \"current\")\n    .map(record => ({ \n        \"x\": record._time, \n        \"y\": record._value}));\nseriesFactor =\n    msg.payload.filter(record => record._field === \"factor\")\n    .map(record => ({ \n        \"x\": record._time, \n        \"y\": record._value}));\n\nreturn [{\n    topic: \"Solar only\",\n    payload: [{\n        \"series\": [\"Solar power\"],\n        \"data\": [\n            seriesPower\n        ],\n        \"labels\": [\"\"]\n    }]\n},{\n    topic: \"Solar power\",\n    payload: [{\n        \"series\": [\"Power\", \"Apparent Power\", \"Reactive Power\"],\n        \"data\": [\n            seriesPower,\n            seriesApparentPower,\n            seriesReactivePower\n        ],\n        \"labels\": [\"\"]\n    }]\n},{\n    topic: \"Voltage\",\n    payload: [{\n        \"series\": [\"Voltage\"],\n        \"data\": [\n            seriesVoltage\n        ],\n        \"labels\": [\"\"]\n    }]\n},{\n    topic: \"Current\",\n    payload: [{\n        \"series\": [\"Current\"],\n        \"data\": [\n            seriesCurrent\n        ],\n        \"labels\": [\"\"]\n    }]\n},{\n    topic: \"Factor\",\n    payload: [{\n        \"series\": [\"Factor\"],\n        \"data\": [\n            seriesFactor\n        ],\n        \"labels\": [\"\"]\n    }]\n}];\n",
        "id": "c13e3bc9.29ac58",
        "initialize": "",
        "name": "To charts",
        "noerr": 0,
        "outputs": 5,
        "type": "function",
        "wires": [
            [
                "dc89aa3d.2aadf"
            ],
            [
                "71cbe8d8.f1fcb8"
            ],
            [
                "4142ba6e.7b1854"
            ],
            [
                "63d08d40.dba0cc"
            ],
            [
                "2d2ae5fa.5e0f02"
            ]
        ],
        "x": 240,
        "y": 300,
        "z": "da818f88.a776d"
    },
    {
        "chartType": "line",
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "cutout": 0,
        "dot": false,
        "group": "78fa6592.1d0d3c",
        "height": 0,
        "id": "dc89aa3d.2aadf",
        "interpolate": "linear",
        "label": "",
        "legend": "true",
        "name": "Solar power",
        "nodata": "",
        "order": 1,
        "outputs": 1,
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "type": "ui_chart",
        "useOneColor": false,
        "useUTC": false,
        "width": 0,
        "wires": [
            []
        ],
        "x": 570,
        "xformat": "HH:mm:ss",
        "y": 220,
        "ymax": "",
        "ymin": "0",
        "z": "da818f88.a776d"
    },
    {
        "finalize": "",
        "func": "data = msg.payload\n\nmsg.measurement = \"house_power\";\nmsg.payload = {\n  current_w_received: data.current_w_received,\n  current_w_delivered: data.current_w_delivered,\n  total_kwh_received_t1: data.total_kwh_received_t1,\n  total_kwh_received_t2: data.total_kwh_received_t2,\n  total_kwh_delivered_t1: data.total_kwh_delivered_t1,\n  total_kwh_delivered_t2: data.total_kwh_delivered_t2,\n  time: new Date(data.timestamp).getTime()\n};\nreturn msg;\n",
        "id": "ac6b5349.cbcd7",
        "initialize": "",
        "name": "To influxdb format",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "2b375b56.872754"
            ]
        ],
        "x": 690,
        "y": 40,
        "z": "53214520.af847c"
    },
    {
        "func": "if(flow.serial_input === undefined) {\n    flow.serial_input = \"\";\n}\nflow.serial_input += msg.payload +\"\\r\\n\";\n\nif(msg.payload.startsWith(\"!\")) {\n    msg = {\n        topic: \"P1 input\",\n        payload: flow.serial_input\n    }\n    flow.serial_input = \"\";\n    return msg;\n}\n",
        "id": "4c769910.a231d",
        "name": "Combine parts",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "bab94a0f.921b38"
            ]
        ],
        "x": 540,
        "y": 160,
        "z": "53214520.af847c"
    },
    {
        "func": "result = {};\n\nmsg.payload.split(/\\r?\\n/).forEach( line => {\n    var lineParsed = line.match(/(.+?)(\\(.+)/);\n    if (lineParsed === null) {\n        return;\n    }\n\n    key = lineParsed[1];\n    value = lineParsed[2];\n\n    var res;\n    if(key === \"0-0:1.0.0\") {\n        res = value.match(/\\((\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})([SW])\\)/);\n        if (res === null) {\n            return;\n        }\n        year = parseInt(res[1]) + 2000;\n        month = parseInt(res[2]) - 1;\n        day = parseInt(res[3]);\n        hours = parseInt(res[4]);\n        minutes = parseInt(res[5]);\n        seconds = parseInt(res[6]);\n        dst = res[7] === \"W\";\n        timestamp = new Date(year, month, day, hours, minutes, seconds);\n        result.timestamp = timestamp.toISOString();\n    } else if(key === \"1-0:1.7.0\") {\n        res = value.match(/\\((\\d{2}\\.\\d{3})\\*kW\\)/);\n        if (res === null) {\n            return;\n        }\n        result.current_w_received = parseFloat(res[1]) * 1000;\n    } else if(key === \"1-0:2.7.0\") {\n        res = value.match(/\\((\\d{2}\\.\\d{3})\\*kW\\)/);\n        if (res === null) {\n            return;\n        }\n        result.current_w_delivered = parseFloat(res[1]) * 1000;\n    } else if(key === \"1-0:1.8.1\") {\n        res = value.match(/\\((\\d{6}\\.\\d{3})\\*kWh\\)/);\n        if (res === null) {\n            return;\n        }\n        result.total_kwh_received_t1 = parseFloat(res[1]);\n    } else if(key === \"1-0:1.8.2\") {\n        res = value.match(/\\((\\d{6}\\.\\d{3})\\*kWh\\)/);\n        if (res === null) {\n            return;\n        }\n        result.total_kwh_received_t2 = parseFloat(res[1]);\n    } else if(key === \"1-0:2.8.1\") {\n        res = value.match(/\\((\\d{6}\\.\\d{3})\\*kWh\\)/);\n        if (res === null) {\n            return;\n        }\n        result.total_kwh_delivered_t1 = parseFloat(res[1]);\n    } else if(key === \"1-0:2.8.2\") {\n        res = value.match(/\\((\\d{6}\\.\\d{3})\\*kWh\\)/);\n        if (res === null) {\n            return;\n        }\n        result.total_kwh_delivered_t2 = parseFloat(res[1]);\n    }\n    return;\n});\n\nmsg.payload = result;\n\nreturn msg;",
        "id": "bab94a0f.921b38",
        "name": "Convert",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "ac6b5349.cbcd7"
            ]
        ],
        "x": 460,
        "y": 40,
        "z": "53214520.af847c"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "json",
        "id": "99968074.722f88",
        "name": "SonoffR2-B",
        "qos": "2",
        "topic": "tele/tasmota_4F6977/SENSOR",
        "type": "mqtt in",
        "wires": [
            [
                "2348e05d.e3d64"
            ]
        ],
        "x": 150,
        "y": 700,
        "z": "307f8b6a.ec1714"
    },
    {
        "finalize": "",
        "func": "time = msg.payload.Time;\ndata = msg.payload.ENERGY;\n\nmsg.measurement = \"solar_power2\";\nmsg.payload = {\n  value: data.Power,\n  power: data.Power,\n  apparent_power: data.ApparentPower,\n  reactive_power: data.ReactivePower,\n  voltage: data.Voltage,\n  current: data.Current,\n  factor: data.Factor,\n  total_start_time: data.TotalStartTime,\n  total: data.Total,\n  today: data.Today,\n  yesterday: data.Yesterday,\n  time: new Date(time).getTime()\n};\nreturn msg;\n",
        "id": "2348e05d.e3d64",
        "initialize": "",
        "name": "To influxdb format",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "cf463c2c.d0c398"
            ]
        ],
        "x": 470,
        "y": 700,
        "z": "307f8b6a.ec1714"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "json",
        "id": "2e363d39.1628da",
        "name": "SonoffR2-C",
        "qos": "2",
        "topic": "tele/tasmota_4F6981/SENSOR",
        "type": "mqtt in",
        "wires": [
            [
                "7b37f4d0.653aa4"
            ]
        ],
        "x": 150,
        "y": 780,
        "z": "307f8b6a.ec1714"
    },
    {
        "finalize": "",
        "func": "time = msg.payload.Time;\ndata = msg.payload.ENERGY;\n\nmsg.measurement = \"solar_power3\";\nmsg.payload = {\n  value: data.Power,\n  power: data.Power,\n  apparent_power: data.ApparentPower,\n  reactive_power: data.ReactivePower,\n  voltage: data.Voltage,\n  current: data.Current,\n  factor: data.Factor,\n  total_start_time: data.TotalStartTime,\n  total: data.Total,\n  today: data.Today,\n  yesterday: data.Yesterday,\n  time: new Date(time).getTime()\n};\nreturn msg;\n",
        "id": "7b37f4d0.653aa4",
        "initialize": "",
        "name": "To influxdb format",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "cf463c2c.d0c398"
            ]
        ],
        "x": 470,
        "y": 780,
        "z": "307f8b6a.ec1714"
    },
    {
        "finalize": "",
        "func": "var messages = [];\nfor(index = 0;; index ++) {\n    var prop = \"DS18B20\";\n    if(index > 0) {\n        prop += \"-\" + index;    \n        if (!msg.payload.hasOwnProperty(prop)){\n            break;\n        }\n    } else {\n        if (!msg.payload.hasOwnProperty(prop)){\n            continue;\n        }\n    }\n    messages.push({\n        topic: msg.payload[prop].Id,\n        payload: msg.payload[prop].Temperature\n    });\n}\n\nreturn [messages];\n",
        "id": "8965c4c.bc1e1b8",
        "initialize": "",
        "name": "Get readings",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "f97ef03a.7bc198"
            ]
        ],
        "x": 310,
        "y": 400,
        "z": "459a3a0f.cadb4c"
    },
    {
        "action": "",
        "from": "",
        "id": "5fcb77f4.ed6328",
        "name": "",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "bedroom_outside",
                "pt": "flow",
                "t": "set",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            []
        ],
        "x": 1010,
        "y": 1120,
        "z": "459a3a0f.cadb4c"
    },
    {
        "action": "",
        "from": "",
        "id": "5f2324b3.478a74",
        "name": "",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "bedroom_inside",
                "pt": "flow",
                "t": "set",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            []
        ],
        "x": 1010,
        "y": 1080,
        "z": "459a3a0f.cadb4c"
    },
    {
        "action": "",
        "from": "",
        "id": "4d5a50d4.1d35b8",
        "name": "",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "bedroom_outside_api",
                "pt": "flow",
                "t": "set",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            []
        ],
        "x": 1030,
        "y": 1160,
        "z": "459a3a0f.cadb4c"
    },
    {
        "crontab": "",
        "id": "1bcb56d.8254929",
        "name": "Every 30 sec",
        "once": true,
        "onceDelay": "10",
        "payload": "",
        "payloadType": "date",
        "props": [
            {
                "p": "payload",
                "v": "",
                "vt": "date"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "30",
        "topic": "",
        "type": "inject",
        "wires": [
            [
                "6822911b.ffc2c"
            ]
        ],
        "x": 200,
        "y": 1760,
        "z": "459a3a0f.cadb4c"
    },
    {
        "finalize": "",
        "func": "// Inside below 19 Close\n// Inside between 19 and 21, and outside above 21, and open: close\n// Inside above 21 and cooler outside and close: Open\n// Inside above 21 and warmer outside and open: close\n\n\nvar bedroom_inside = flow.get(\"bedroom_inside\");\nvar bedroom_outside = flow.get(\"bedroom_outside\");\nvar bedroom_outside_api = flow.get(\"bedroom_outside_api\");\n\nif(bedroom_inside < 18.0) {\n    // Too cold, just keep it closed\n    return {topic: \"target\", payload: \"closed\"}\n} else if(bedroom_inside > 22.0) {\n    // Too hot, cool if possible\n    var diff = bedroom_outside - bedroom_inside;\n    if( diff < -0.5 ) {\n        return {topic: \"target\", payload: \"open\"}\n    }\n    // Close at 0 difference, to prevent not noticing room\n    // and outside are keeping the same temp\n    // TODO: PID?\n    if( diff > 0.0 ) {\n        return {topic: \"target\", payload: \"closed\"}\n    }\n} else {\n    // Inbetween, close if outside above 21, otherwise hold\n    if(bedroom_outside > 22.0) {\n        return {topic: \"target\", payload: \"closed\"}\n    }\n}\n",
        "id": "6822911b.ffc2c",
        "initialize": "",
        "name": "",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "67cd37a1.f6fb6",
                "1275a2b9.0d5345"
            ]
        ],
        "x": 400,
        "y": 1760,
        "z": "459a3a0f.cadb4c"
    },
    {
        "id": "6f726c2.3989694",
        "links": [
            "7bd79c90.f19984",
            "50b19175.72032"
        ],
        "name": "open",
        "type": "link out",
        "wires": [],
        "x": 535,
        "y": 1320,
        "z": "459a3a0f.cadb4c"
    },
    {
        "id": "20492d95.5756aa",
        "links": [
            "8300a6ed.9959b8"
        ],
        "name": "close",
        "type": "link out",
        "wires": [],
        "x": 535,
        "y": 1420,
        "z": "459a3a0f.cadb4c"
    },
    {
        "id": "deb7a328.2db828",
        "links": [
            "b0f74837.6f49d8"
        ],
        "name": "status",
        "type": "link out",
        "wires": [],
        "x": 535,
        "y": 1520,
        "z": "459a3a0f.cadb4c"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "cb6c01da.86161",
        "name": "Serial out",
        "qos": "2",
        "retain": "false",
        "topic": "cmnd/tasmota_85B208/SerialSend3",
        "type": "mqtt out",
        "wires": [],
        "x": 560,
        "y": 320,
        "z": "dd00ef6b.1ab33"
    },
    {
        "action": "",
        "from": "",
        "id": "c8d2fde4.4da09",
        "name": "[SPACE]",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "\\s",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "cb6c01da.86161",
                "38d45dc9.9d7152"
            ]
        ],
        "x": 220,
        "y": 60,
        "z": "dd00ef6b.1ab33"
    },
    {
        "action": "",
        "from": "",
        "id": "1074edfe.e111e2",
        "name": "[OPEN\\n]",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "OPEN\\n",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "cb6c01da.86161"
            ]
        ],
        "x": 220,
        "y": 180,
        "z": "dd00ef6b.1ab33"
    },
    {
        "drop": false,
        "id": "38d45dc9.9d7152",
        "name": "",
        "nbRateUnits": "1",
        "pauseType": "delay",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "rate": "1",
        "rateUnits": "second",
        "timeout": "5",
        "timeoutUnits": "milliseconds",
        "type": "delay",
        "wires": [
            [
                "1074edfe.e111e2"
            ]
        ],
        "x": 230,
        "y": 120,
        "z": "dd00ef6b.1ab33"
    },
    {
        "action": "",
        "from": "",
        "id": "29ddccaa.2032ac",
        "name": "[CLOSE\\n]",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "CLOSE\\n",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "cb6c01da.86161"
            ]
        ],
        "x": 230,
        "y": 380,
        "z": "dd00ef6b.1ab33"
    },
    {
        "action": "",
        "from": "",
        "id": "1bac8483.5b41e3",
        "name": "[SPACE]",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "\\s",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "465b7c11.db5664",
                "cb6c01da.86161"
            ]
        ],
        "x": 220,
        "y": 260,
        "z": "dd00ef6b.1ab33"
    },
    {
        "drop": false,
        "id": "465b7c11.db5664",
        "name": "",
        "nbRateUnits": "1",
        "pauseType": "delay",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "rate": "1",
        "rateUnits": "second",
        "timeout": "5",
        "timeoutUnits": "milliseconds",
        "type": "delay",
        "wires": [
            [
                "29ddccaa.2032ac"
            ]
        ],
        "x": 230,
        "y": 320,
        "z": "dd00ef6b.1ab33"
    },
    {
        "action": "",
        "from": "",
        "id": "b7c33600.a676f8",
        "name": "[STATUS\\n]",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "STATUS\\n",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "cb6c01da.86161"
            ]
        ],
        "x": 230,
        "y": 580,
        "z": "dd00ef6b.1ab33"
    },
    {
        "action": "",
        "from": "",
        "id": "d85699b2.c04788",
        "name": "[SPACE]",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "\\s",
                "tot": "str"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "1f6c944a.1edc34",
                "cb6c01da.86161"
            ]
        ],
        "x": 220,
        "y": 460,
        "z": "dd00ef6b.1ab33"
    },
    {
        "drop": false,
        "id": "1f6c944a.1edc34",
        "name": "",
        "nbRateUnits": "1",
        "pauseType": "delay",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "rate": "1",
        "rateUnits": "second",
        "timeout": "5",
        "timeoutUnits": "milliseconds",
        "type": "delay",
        "wires": [
            [
                "b7c33600.a676f8"
            ]
        ],
        "x": 230,
        "y": 520,
        "z": "dd00ef6b.1ab33"
    },
    {
        "id": "aba5fd44.09bea8",
        "info": "SerialConfig 8N2\nBaudrate 19200\nSerialDelimiter 10\n\nRule1 ON system#boot DO Backlog SerialConfig 8N2; Baudrate 19200 ; SerialDelimiter 10 ENDON\nRule1 1\n",
        "name": "Settings",
        "type": "comment",
        "wires": [],
        "x": 560,
        "y": 260,
        "z": "dd00ef6b.1ab33"
    },
    {
        "id": "50b19175.72032",
        "links": [
            "6f726c2.3989694"
        ],
        "name": "open",
        "type": "link in",
        "wires": [
            [
                "c8d2fde4.4da09"
            ]
        ],
        "x": 115,
        "y": 60,
        "z": "dd00ef6b.1ab33"
    },
    {
        "id": "8300a6ed.9959b8",
        "links": [
            "20492d95.5756aa"
        ],
        "name": "close",
        "type": "link in",
        "wires": [
            [
                "1bac8483.5b41e3"
            ]
        ],
        "x": 115,
        "y": 260,
        "z": "dd00ef6b.1ab33"
    },
    {
        "id": "b0f74837.6f49d8",
        "links": [
            "deb7a328.2db828"
        ],
        "name": "status",
        "type": "link in",
        "wires": [
            [
                "d85699b2.c04788"
            ]
        ],
        "x": 115,
        "y": 460,
        "z": "dd00ef6b.1ab33"
    },
    {
        "id": "fe48bc28.777df8",
        "links": [
            "be50a951.ae3498",
            "d96f7ea8.8779b"
        ],
        "name": "is open",
        "type": "link in",
        "wires": [
            [
                "39ed0882.fb485",
                "b60fc641.bbc1e8"
            ]
        ],
        "x": 235,
        "y": 1200,
        "z": "459a3a0f.cadb4c"
    },
    {
        "id": "14ceb8e1.7a757f",
        "links": [
            "6dea83fa.9e1924",
            "e4bef279.11e6d8"
        ],
        "name": "is closed",
        "type": "link in",
        "wires": [
            [
                "a0363f35.4589e8",
                "14f70808.37a748"
            ]
        ],
        "x": 235,
        "y": 1240,
        "z": "459a3a0f.cadb4c"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "datatype": "utf8",
        "id": "7762f97.8b30e08",
        "name": "",
        "qos": "2",
        "topic": "tele/tasmota_85B208/RESULT",
        "type": "mqtt in",
        "wires": [
            [
                "c90ce5c1.288b4"
            ]
        ],
        "x": 230,
        "y": 660,
        "z": "dd00ef6b.1ab33"
    },
    {
        "checkall": "true",
        "id": "8d51290.8a48d58",
        "name": "Handle serial in",
        "outputs": 3,
        "property": "payload",
        "propertyType": "msg",
        "repair": false,
        "rules": [
            {
                "t": "eq",
                "v": "200  OK",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "210 UnLocked",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "211 Strong Locked",
                "vt": "str"
            }
        ],
        "type": "switch",
        "wires": [
            [],
            [
                "d96f7ea8.8779b"
            ],
            [
                "e4bef279.11e6d8"
            ]
        ],
        "x": 360,
        "y": 760,
        "z": "dd00ef6b.1ab33"
    },
    {
        "finalize": "",
        "func": "msg.payload = msg.payload.replace(/[\\r\\n]/, '');\nreturn msg;\n",
        "id": "c90ce5c1.288b4",
        "initialize": "",
        "name": "Remove CR/LF",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "6c54f86.54a4888"
            ]
        ],
        "x": 460,
        "y": 660,
        "z": "dd00ef6b.1ab33"
    },
    {
        "action": "obj",
        "id": "6c54f86.54a4888",
        "name": "",
        "pretty": false,
        "property": "payload",
        "type": "json",
        "wires": [
            [
                "1e84724e.698e56"
            ]
        ],
        "x": 610,
        "y": 660,
        "z": "dd00ef6b.1ab33"
    },
    {
        "action": "",
        "from": "",
        "id": "1e84724e.698e56",
        "name": "",
        "property": "",
        "reg": false,
        "rules": [
            {
                "p": "payload",
                "pt": "msg",
                "t": "set",
                "to": "msg.payload.SerialReceived",
                "tot": "jsonata"
            }
        ],
        "to": "",
        "type": "change",
        "wires": [
            [
                "8d51290.8a48d58"
            ]
        ],
        "x": 180,
        "y": 760,
        "z": "dd00ef6b.1ab33"
    },
    {
        "id": "d96f7ea8.8779b",
        "links": [
            "fe48bc28.777df8"
        ],
        "name": "is open",
        "type": "link out",
        "wires": [],
        "x": 515,
        "y": 740,
        "z": "dd00ef6b.1ab33"
    },
    {
        "id": "e4bef279.11e6d8",
        "links": [
            "14ceb8e1.7a757f"
        ],
        "name": "is closed",
        "type": "link out",
        "wires": [],
        "x": 515,
        "y": 780,
        "z": "dd00ef6b.1ab33"
    },
    {
        "finalize": "",
        "func": "msg.measurement = \"temp_\" + msg.topic;\nmsg.payload = {\n  value: msg.payload,\n  time: new Date().getTime()\n};\nreturn msg;\n",
        "id": "3763749a.0336c4",
        "initialize": "",
        "name": "To influxdb format",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            [
                "c6dfcb23.ac3a58"
            ]
        ],
        "x": 370,
        "y": 560,
        "z": "459a3a0f.cadb4c"
    },
    {
        "broker": "69f5a3df.5a8b0c",
        "id": "27c52d4.458b452",
        "name": "Send",
        "qos": "2",
        "retain": "false",
        "topic": "devices/3c71bf10840c/ir/send",
        "type": "mqtt out",
        "wires": [],
        "x": 770,
        "y": 360,
        "z": "47b85eed.4f8768"
    },
    {
        "bgcolor": "",
        "color": "",
        "group": "ffd321ee.bc6a68",
        "height": 1,
        "icon": "",
        "id": "663db002.d44848",
        "label": "Vol +",
        "name": "",
        "order": 3,
        "passthru": false,
        "payload": "001010100100110000000010100000001110100001101010",
        "payloadType": "str",
        "tooltip": "",
        "topic": "",
        "type": "ui_button",
        "width": 2,
        "wires": [
            [
                "27c52d4.458b452"
            ]
        ],
        "x": 370,
        "y": 340,
        "z": "47b85eed.4f8768"
    },
    {
        "bgcolor": "",
        "color": "",
        "group": "ffd321ee.bc6a68",
        "height": 1,
        "icon": "",
        "id": "308add3a.dd0ad2",
        "label": "Vol -",
        "name": "",
        "order": 5,
        "passthru": false,
        "payload": "001010100100110000000010100010001110100001100010",
        "payloadType": "str",
        "tooltip": "",
        "topic": "",
        "type": "ui_button",
        "width": 2,
        "wires": [
            [
                "27c52d4.458b452"
            ]
        ],
        "x": 370,
        "y": 300,
        "z": "47b85eed.4f8768"
    },
    {
        "bgcolor": "",
        "color": "",
        "group": "ffd321ee.bc6a68",
        "height": 1,
        "icon": "fa-power-off ",
        "id": "6b315fd.fc335a",
        "label": "Power",
        "name": "",
        "order": 1,
        "passthru": false,
        "payload": "001010100100110000000010100010100000000010001000",
        "payloadType": "str",
        "tooltip": "",
        "topic": "",
        "type": "ui_button",
        "width": 2,
        "wires": [
            [
                "27c52d4.458b452"
            ]
        ],
        "x": 370,
        "y": 220,
        "z": "47b85eed.4f8768"
    },
    {
        "bgcolor": "",
        "color": "",
        "group": "ffd321ee.bc6a68",
        "height": 1,
        "icon": "",
        "id": "3047d665.00345a",
        "label": "Fav 1",
        "name": "",
        "order": 7,
        "passthru": false,
        "payload": "001010100100110000000010100001001111000001110110",
        "payloadType": "str",
        "tooltip": "",
        "topic": "",
        "type": "ui_button",
        "width": 2,
        "wires": [
            [
                "27c52d4.458b452"
            ]
        ],
        "x": 370,
        "y": 400,
        "z": "47b85eed.4f8768"
    },
    {
        "bgcolor": "",
        "color": "",
        "group": "ffd321ee.bc6a68",
        "height": 1,
        "icon": "",
        "id": "ef439224.3fe148",
        "label": "Fav 2",
        "name": "",
        "order": 8,
        "passthru": false,
        "payload": "001010100100110000000010100011001111000001111110",
        "payloadType": "str",
        "tooltip": "",
        "topic": "",
        "type": "ui_button",
        "width": 2,
        "wires": [
            [
                "27c52d4.458b452"
            ]
        ],
        "x": 370,
        "y": 440,
        "z": "47b85eed.4f8768"
    },
    {
        "bgcolor": "",
        "color": "",
        "group": "ffd321ee.bc6a68",
        "height": 1,
        "icon": "",
        "id": "480789f3.80ec28",
        "label": "Fav 3",
        "name": "",
        "order": 9,
        "passthru": false,
        "payload": "001010100100110000000010100000101111000001110000",
        "payloadType": "str",
        "tooltip": "",
        "topic": "",
        "type": "ui_button",
        "width": 2,
        "wires": [
            [
                "27c52d4.458b452"
            ]
        ],
        "x": 370,
        "y": 480,
        "z": "47b85eed.4f8768"
    },
    {
        "bgcolor": "",
        "color": "",
        "group": "ffd321ee.bc6a68",
        "height": 1,
        "icon": "",
        "id": "810f7e64.88fd88",
        "label": "CoreELEC",
        "name": "",
        "order": 10,
        "passthru": false,
        "payload": "001010100100110000000010100000001011010000110110",
        "payloadType": "str",
        "tooltip": "",
        "topic": "",
        "type": "ui_button",
        "width": 2,
        "wires": [
            [
                "27c52d4.458b452"
            ]
        ],
        "x": 390,
        "y": 560,
        "z": "47b85eed.4f8768"
    },
    {
        "bgcolor": "",
        "color": "",
        "group": "ffd321ee.bc6a68",
        "height": 1,
        "icon": "",
        "id": "98f96afe.f0e1b",
        "label": "TV AUDIO",
        "name": "",
        "order": 11,
        "passthru": false,
        "payload": "001010100100110000000010100001001011010000110010",
        "payloadType": "str",
        "tooltip": "",
        "topic": "",
        "type": "ui_button",
        "width": 2,
        "wires": [
            [
                "27c52d4.458b452"
            ]
        ],
        "x": 390,
        "y": 600,
        "z": "47b85eed.4f8768"
    },
    {
        "finalize": "",
        "func": "\nvar manufacturer = '0010101001001100';\nvar manufacturer_par = '0000';\nvar genre1 = 4;\nvar genre2 = 1;\nvar func = 5;\nvar id = 0;\n\nfunction bin(value, length) {\n  return value.toString(2).padStart(length, '0')\n    .split(\"\").reverse().join(\"\");\n}\nfunction bin2(value, length) {\n  return value.toString(2).padStart(length, '0');\n}\n\nvar funcBin = bin(func, 10);\nvar idBin = bin(id, 2);\n\nvar par1 = manufacturer_par + bin(genre1, 4);\nvar par2 = bin(genre2, 4) + funcBin.substr(0,4);\nvar par3 = funcBin.substr(4,6) + idBin;\n\nvar par = parseInt( par1, 2 ) ^ parseInt( par2, 2 ) ^ parseInt( par3, 2 );\n\nconsole.log(manufacturer + par1 + par2 + par3 + bin2(par, 8));\n\n\nreturn msg;",
        "id": "c2afa7fa.ffa0e",
        "initialize": "",
        "name": "",
        "noerr": 0,
        "outputs": 1,
        "type": "function",
        "wires": [
            []
        ],
        "x": 650,
        "y": 120,
        "z": "47b85eed.4f8768"
    },
    {
        "audioURI": "/data/ogg/01_-_NeverEnding_Story_-_C64_-_The_NeverEnding_Story.ogg",
        "id": "e2ba0b59.7d901",
        "name": "",
        "options": "{}",
        "playerOptions": "{\"player\": \"ogg123\"}",
        "type": "PlaySound",
        "wires": [
            []
        ],
        "x": 710,
        "y": 100,
        "z": "8986fa08.d4999"
    },
    {
        "id": "3d6328bb.df1c9",
        "info": "wget http://vgmpf.com/Wiki/images/1/15/01_-_NeverEnding_Story_-_C64_-_The_NeverEnding_Story.ogg",
        "name": "File source",
        "type": "comment",
        "wires": [],
        "x": 530,
        "y": 700,
        "z": "8986fa08.d4999"
    },
    {
        "bytopic": "all",
        "duration": "30",
        "extend": true,
        "id": "6c6af118.4fa65",
        "name": "",
        "op1": "start",
        "op1type": "str",
        "op2": "stop",
        "op2type": "str",
        "outputs": 1,
        "overrideDelay": false,
        "reset": "",
        "topic": "topic",
        "type": "trigger",
        "units": "s",
        "wires": [
            [
                "af2a2eca.6e18e8"
            ]
        ],
        "x": 410,
        "y": 140,
        "z": "8986fa08.d4999"
    },
    {
        "audioURI": "/data/mp3/Englishman_In_New_York.mp3",
        "id": "af2a2eca.6e18e8",
        "name": "",
        "options": "{}",
        "playerOptions": "{\"player\": \"mpg123\"}",
        "type": "PlaySound",
        "wires": [
            []
        ],
        "x": 710,
        "y": 160,
        "z": "8986fa08.d4999"
    },
    {
        "bgcolor": "",
        "color": "",
        "group": "ffd321ee.bc6a68",
        "height": 1,
        "icon": "",
        "id": "e9450668.fd1058",
        "label": "PC",
        "name": "",
        "order": 11,
        "passthru": false,
        "payload": "001010100100110000000010100010001011010000111110",
        "payloadType": "str",
        "tooltip": "",
        "topic": "",
        "type": "ui_button",
        "width": 2,
        "wires": [
            [
                "27c52d4.458b452"
            ]
        ],
        "x": 370,
        "y": 640,
        "z": "47b85eed.4f8768"
    },
    {
        "bucket": "home_db/autogen",
        "database": "database",
        "id": "c6dfcb23.ac3a58",
        "influxdb": "9e729019.2637e",
        "measurement": "",
        "name": "",
        "org": "phin-home",
        "precision": "",
        "precisionV18FluxV20": "ms",
        "retentionPolicy": "",
        "retentionPolicyV18Flux": "",
        "type": "influxdb out",
        "wires": [],
        "x": 610,
        "y": 400,
        "z": "459a3a0f.cadb4c"
    },
    {
        "bucket": "home_db/autogen",
        "database": "database",
        "id": "cf463c2c.d0c398",
        "influxdb": "9e729019.2637e",
        "measurement": "",
        "name": "",
        "org": "phin-home",
        "precision": "",
        "precisionV18FluxV20": "ms",
        "retentionPolicy": "",
        "retentionPolicyV18Flux": "",
        "type": "influxdb out",
        "wires": [],
        "x": 830,
        "y": 80,
        "z": "307f8b6a.ec1714"
    },
    {
        "bucket": "home_db/autogen",
        "database": "database",
        "id": "2b375b56.872754",
        "influxdb": "9e729019.2637e",
        "measurement": "",
        "name": "",
        "org": "phin-home",
        "precision": "",
        "precisionV18FluxV20": "ms",
        "retentionPolicy": "",
        "retentionPolicyV18Flux": "",
        "type": "influxdb out",
        "wires": [],
        "x": 910,
        "y": 40,
        "z": "53214520.af847c"
    }
]
